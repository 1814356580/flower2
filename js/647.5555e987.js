"use strict";(self["webpackChunkflower_shop"]=self["webpackChunkflower_shop"]||[]).push([[647],{1590:function(t,s,i){i.d(s,{Z:function(){return n}});var a=function(){var t=this,s=t._self._c;return s("div",[t._t("topSlot"),s("div",[s("div",{staticClass:"goods-item-main"},[s("div",{staticClass:"goods-item-img"},[t._t("imgSlot")],2),s("div",{staticClass:"goods-item-content"},[s("div",{staticClass:"goods-item-title"},[t._t("nameSlot")],2),s("div",{staticClass:"goods-item-attribute"},[t._t("attributeSlot")],2)])])]),t._t("menuSlot")],2)},e=[],o={name:"goodsItem",data(){return{}},methods:{},mounted(){}},c=o,l=i(1001),d=(0,l.Z)(c,a,e,!1,null,"1f769a80",null),n=d.exports},8647:function(t,s,i){i.r(s),i.d(s,{default:function(){return A}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"root"},[s("action-bar",{attrs:{title:"编辑预售商品"}}),s("div",{staticClass:"container"},[s("scroll-view",{staticClass:"content",attrs:{data:t.goodsList}},[s("div",{staticClass:"cc"},[s("div",{staticClass:"content-box"},[s("div",{staticClass:"flex-center margin-bottom"},[s("span",[t._v("标题：")]),s("div",{staticClass:"title"},[t._v(t._s(t.data.title))])]),s("div",{staticClass:"flex-center margin-bottom"},[s("span",[t._v("类型：")]),s("div",[t._v("固定模式")])]),s("div",{staticClass:"margin-bottom"},[s("div",{staticClass:"margin-bottom"},[t._v("活动时间：")]),s("div",{staticClass:"flex-center"},[t._v(" "+t._s(t.data.startSalesTime)+" "),s("span",{staticClass:"to"},[t._v("至")]),t._v(" "+t._s(t.data.endSalseTime)+" ")])]),s("div",{staticClass:"margin-bottom"},[s("div",{staticClass:"margin-bottom"},[t._v("预计送达时间段：")]),s("div",{staticClass:"flex-center"},[t._v(" "+t._s(t.data.startDeliveryDate)+" "),s("span",{staticClass:"to"},[t._v("至")]),t._v(" "+t._s(t.data.endDeliveryDate)+" ")])])]),s("div",{staticClass:"content-box"},[s("div",{staticClass:"flex-center goods-add margin-bottom"},[s("div",{staticClass:"goods-title"},[t._v("添加商品")]),s("div",{staticClass:"goods-quantity"},[t._v("共"+t._s(t.goodsList.length)+"件")])]),s("div",{staticClass:"add-goods-box"},[s("div",{staticClass:"no-font-size",on:{click:t.bindAddGoods}},[s("img",{staticClass:"add-goods-img",attrs:{src:i(2416)}})]),s("div",{staticClass:"hor-goods-box"},[s("div",{staticClass:"hor-scroll"},t._l(t.goodsList,(function(i){return s("van-image",{key:i.id,staticClass:"hor-goods-img",attrs:{src:t.baseUrl+i.c}})})),1)])])]),t._l(t.goodsList,(function(a,e){return s("goods-item",{key:a.id,staticClass:"content-box"},[s("van-image",{staticClass:"goods-img",attrs:{slot:"imgSlot",radius:".25rem",src:t.baseUrl+a.imageUrl},slot:"imgSlot"}),s("div",{attrs:{slot:"nameSlot"},slot:"nameSlot"},[s("img",{staticClass:"delete-img",attrs:{src:i(5927)},on:{click:function(s){return t.bindDeleteGoods(e)}}}),s("div",[t._v(t._s(a.productName))])]),s("div",{attrs:{slot:"attributeSlot"},slot:"attributeSlot"},[s("div",{staticClass:"attribute"},[s("div",{staticClass:"attribute-content"},[t._v("分类："+t._s(a.categoryName))]),s("div",{staticClass:"attribute-content"},[t._v("颜色："+t._s(a.color))])]),s("div",{staticClass:"attribute"},[s("div",{staticClass:"attribute-content"},[t._v("等级："+t._s(a.level))]),s("div",{staticClass:"attribute-content"},[t._v("规格："+t._s(a.unit))])])]),s("div",{staticClass:"goods-bottom",attrs:{slot:"menuSlot"},slot:"menuSlot"},[s("div",{staticClass:"price-stock"},[s("span",[t._v("价格(元)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:a.priceStay,expression:"item.priceStay"}],staticClass:"input-bg",attrs:{maxlength:"10",type:"digit",placeholder:"0.00元"},domProps:{value:a.priceStay},on:{input:function(s){s.target.composing||t.$set(a,"priceStay",s.target.value)}}})]),s("div",{staticClass:"price-stock"},[s("span",[t._v("库存(扎)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:a.stockStay,expression:"item.stockStay"}],staticClass:"input-bg",attrs:{type:"number",maxlength:"10",placeholder:"0扎"},domProps:{value:a.stockStay},on:{input:function(s){s.target.composing||t.$set(a,"stockStay",s.target.value)}}})])])],1)}))],2)])],1),s("div",{staticClass:"bottom"},[s("div",{staticClass:"agree"}),s("div",{staticClass:"release release-true",on:{click:t.bindSubmit}},[t._v("发布")])])],1)},e=[],o=(i(7658),i(5928)),c=i(1590),l={name:"editReserveShop",components:{goodsItem:c.Z},data(){return{id:"",data:{},goodsList:[]}},computed:{baseUrl(){return this.$store.state.baseUrl}},methods:{bindDeleteGoods(t){const s=this.goodsList;t<s.length&&(s.splice(t,1),this.goodsList=s)},bindSubmit(){const t=this.goodsList;if(0===t.length)return void this.$toast("请添加预售商品");const s=[];for(const a of t){if(!a.priceStay)return void this.$toast("<"+a.productName+">价格未填写");if(!a.stockStay)return void this.$toast("<"+a.productName+">库存未填写");s.push({price:a.priceStay,inventory:a.stockStay,productId:a.productId})}const i={id:this.id,data:JSON.stringify(s)};(0,o.QX)(i).then((t=>{this.$router.back(),this.$toast.success("修改成功")})).catch((t=>{this.$toast(t.msg)}))},bindAddGoods(){this.$router.push("/spotGoodsList")},getReserveDetail(){(0,o.oe)({id:this.id}).then((t=>{const s=t.data.productList;s.forEach((t=>{t.priceStay=t.earnest,t.stockStay=t.inventory})),this.data=t.data,this.goodsList=s})).catch((t=>{this.$toast(t.msg)}))}},mounted(){this.id=this.$route.query.id,this.getReserveDetail()},beforeRouteEnter(t,s,i){i();const a=s.params.list;a&&i((t=>{t.goodsList=a}))}},d=l,n=i(1001),r=(0,n.Z)(d,a,e,!1,null,"709a6f4b",null),A=r.exports},2416:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEUAAACJkKCIj6GIj5+QO2niAAAAA3RSTlMA40mAJZ3FAAAAMUlEQVQoz2OgK+BMQOKwX0Di8H8YpJz5/8HgG5hTD+H8RecglA0SV+PlsF9AjRJ6AgC/3Thz3cPtVwAAAABJRU5ErkJggg=="},5927:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjhFQUU2MkJFNkJDMTFFNjk5MzJERDcyQUZFMEY4QzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjhFQUU2MkNFNkJDMTFFNjk5MzJERDcyQUZFMEY4QzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MDYwNDg5MEU2OTkxMUU2OTkzMkRENzJBRkUwRjhDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyOEVBRTYyQUU2QkMxMUU2OTkzMkRENzJBRkUwRjhDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtZOx3kAAAQmSURBVHja3JpNSFRRFMfvmBWZtsgKyo+ohdrXKiUsC5wSCfpYBJUfLfpU0wpaRVRqto2gNMmklaa2EWpRhiiUFabVpvJjkVRakLnJkjBq+l/8P3i85r15786b0enAjzsz+u49/zfHc889T4/P5xORbFEiwi1a/6ajoyNiHPd6vf/hNxBkKGaAbJAOUkACmM+f/wAjYBD0gk7QA/5Mt4BEUAoKQJLF780FC8E6sIeffQSNoAYMh1tAPLgIjoA5/GwItIEu0Afeg3H+LA4sB6tAFsgFK8AZcBrUgwtgLBwC9vKuLQK/QROoBs+AWU4eIy951z0gE5RxvuMc5fuWUKVRKbaWC0jn28FakA+eWjjvz3y8Jp9ztHPOZq4R7baAGNAKisFPUARyQL8LCaCfcxVx7mKuFeOWgGiGyQ4wCraAuhBkxDrOPcq1mux8E3YEyPjexYk3M/2Fynq4xijXrA5WwD5+tRNgJxgIw940wLUmuHaeqoB43R04BbrDuMF2c00tAharCLikyzb101Al1HNtuQFWORWQDA5zqz9psUgBS4RyBQflNV+YSs3sBPeaQ/TJtoASMJs5v89igStgGahwKKKc18jQuBwgxd6hLyV2BcjPCvm6JoAj13Wv7YrQnNfsho0sKOhTlB0BGSzShrhbWpl0pNKBCKPzlYb3/kyWKO/oU4YdAV6OD2yWB3ZFqDivlR1tfJ1tR8B6jk8cxHQgEarOC4Mv6Xaq0VSObxxmlQqds8LgYDDOS3tr8M1SwFLdgUO4KELVecGzhd43yxCK4ziuuAEZwylY56V9N/gW8raKz0XnHRdz42ZqHW5SbjofaxYV/gR85pjksvPyMP9BsexINvhmKUArmVe7fOdreVMqFESsMfhmKeAFxyyXw0al7NBsE8deOwI6Oeaye+BWzDstOzTz0Be9b5YCnrPRtBJsdPkPVkVEJn0Z9nec9SdAngEa+Lo0wOTHFLKNUUSgNco4Ngg/rUizfUCW0ZNsNqVZTC67al8VUqUm4hMPLWaWRh8mzUp7MwHDPNLNAtcsFmjhoUQlz8trEgJ04q7Sh1vCpH9qtRNrvcpt4OA0nIkPsOElfTincqgf08WfPBVtCLOAV+AeOCosmr6BaqFmHvliOFlqGAW8ZnOrNZjGlmBX4i5j/ZHuwDMjzI6ASXbH7oMl4LEhfc54AdJkm283w2kex4cuhZScQzZyt4ZSgLRfYqr1ncfcn8Nj523ulh6Ha8trGjnHfmGjkevPVJ7QyD9s2fKrYscsjwwxzLrYkJKl8zdes4AlcRqLxO1i6hGTFqI3wXkVAR79k3qF58SJTLWF3JSc2AjLg2qh8JBPe04c7FNKubB8UHeWTScvs1QKxcXqzrTydwdZrneIGfKYVV8AdovwtuD/DaFItIj/V4OIF/BXgAEAAy4Dnp5Y+vgAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=647.5555e987.js.map