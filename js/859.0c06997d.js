"use strict";(self["webpackChunkflower_shop"]=self["webpackChunkflower_shop"]||[]).push([[859],{1590:function(t,i,e){e.d(i,{Z:function(){return l}});var s=function(){var t=this,i=t._self._c;return i("div",[t._t("topSlot"),i("div",[i("div",{staticClass:"goods-item-main"},[i("div",{staticClass:"goods-item-img"},[t._t("imgSlot")],2),i("div",{staticClass:"goods-item-content"},[i("div",{staticClass:"goods-item-title"},[t._t("nameSlot")],2),i("div",{staticClass:"goods-item-attribute"},[t._t("attributeSlot")],2)])])]),t._t("menuSlot")],2)},n=[],a={name:"goodsItem",data(){return{}},methods:{},mounted(){}},o=a,r=e(1001),c=(0,r.Z)(o,s,n,!1,null,"1f769a80",null),l=c.exports},5859:function(t,i,e){e.r(i),e.d(i,{default:function(){return f}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"root"},[i("action-bar",{attrs:{title:"店铺现货列表"}}),i("div",{staticClass:"search"},[i("div",{staticClass:"search-input"},[i("van-icon",{staticClass:"search-icon",attrs:{name:"search",color:"#b4b4b4",size:"16px"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search-text",attrs:{placeholder:"搜索想要创建的商品"},domProps:{value:t.searchStr},on:{input:function(i){i.target.composing||(t.searchStr=i.target.value)}}})],1),i("div",{staticClass:"search-btn",on:{click:t.clickSearch}},[t._v("搜索")])]),i("div",{staticClass:"container"},[i("scroll-view",{staticClass:"content",attrs:{data:t.goodsList,noMoreData:t.noMoreData,loadmore:""},on:{scrolltolower:t.scrolltolower}},t._l(t.goodsList,(function(e){return i("goods-item",{key:e.id},[i("div",{staticClass:"img-slot",attrs:{slot:"imgSlot",bindtap:"handleCheck"},slot:"imgSlot"},[i("van-checkbox",{staticClass:"goods-check",attrs:{"checked-color":"#42D18A","icon-size":"16px"},model:{value:e.check,callback:function(i){t.$set(e,"check",i)},expression:"item.check"}}),i("van-image",{staticClass:"goods-img",attrs:{radius:".25rem",src:t.baseUrl+e.imageUrl}})],1),i("div",{attrs:{slot:"nameSlot"},slot:"nameSlot"},[i("div",[t._v(t._s(e.productName))])]),i("div",{attrs:{slot:"attributeSlot"},slot:"attributeSlot"},[i("div",{staticClass:"attribute"},[i("div",{staticClass:"attribute-content"},[t._v("分类："+t._s(e.categoryName))]),i("div",{staticClass:"attribute-content"},[t._v("颜色："+t._s(e.color))])]),i("div",{staticClass:"attribute"},[i("div",{staticClass:"attribute-content"},[t._v("等级："+t._s(e.level))]),i("div",{staticClass:"attribute-content"},[t._v("规格："+t._s(e.unit))])])])])})),1)],1),i("div",{staticClass:"operate"},[i("div"),i("div",{staticClass:"sure",on:{click:t.bindSure}},[t._v("确定")])])],1)},n=[],a=(e(323),e(1698)),o=(e(5825),e(9858)),r=(e(7658),e(1590)),c=e(5928),l={name:"spotGoodsList",components:{[o.Z.name]:o.Z,[a.Z.name]:a.Z,goodsItem:r.Z},data(){return{searchStr:"",goodsList:[],start:0,limit:10,mode:"1",max:-1,noMoreData:!1}},methods:{clickSearch(){this.goodsList=[],this.start=0,this.getGoodsList()},bindSure(){const t=this.goodsList,i=[];for(const e of t)e.check&&i.push(e);0!==i.length?(this.$route.params.list=i,this.$router.back()):this.$toast("请勾选商品")},scrolltolower(){this.start=this.start+=this.limit,this.getGoodsList()},getGoodsList(){(0,c.WI)({name:this.searchStr,start:this.start,limit:this.limit}).then((t=>{let i=!1;const e=t.data.result;e.length<10&&(i=!0);const s=this.goodsList;s.push(...e),this.goodsList=s,this.noMoreData=i})).catch((t=>{this.$toast(t.msg)}))}},computed:{baseUrl(){return this.$store.state.baseUrl}},mounted(){this.getGoodsList()}},d=l,h=e(1001),u=(0,h.Z)(d,s,n,!1,null,"5cf0ff77",null),f=u.exports},1698:function(t,i,e){e(7658);var s=e(855),n=e(5423),a=(0,s.d)("checkbox"),o=a[0],r=a[1];i["Z"]=o({mixins:[(0,n.p)({bem:r,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var i=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){i.checked=t}))},setParentValue:function(t){var i=this.parent,e=i.value.slice();if(t){if(i.max&&e.length>=i.max)return;-1===e.indexOf(this.name)&&(e.push(this.name),i.$emit("input",e))}else{var s=e.indexOf(this.name);-1!==s&&(e.splice(s,1),i.$emit("input",e))}}}})},323:function(t,i,e){e(1958),e(3332),e(6742)},5825:function(t,i,e){e(1958),e(3332),e(6742)},5423:function(t,i,e){e.d(i,{p:function(){return r}});e(541),e(7658);var s=e(9858),n=e(5065),a=e(9435),o=e(408),r=function(t){var i=t.parent,e=t.bem,r=t.role;return{mixins:[(0,a.j)(i),n.f],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===r&&!this.checked?-1:0}},methods:{onClick:function(t){var i=this,e=t.target,s=this.$refs.icon,n=s===e||(null==s?void 0:s.contains(e));this.isDisabled||!n&&this.labelDisabled?this.$emit("click",t):(this.toggle(),setTimeout((function(){i.$emit("click",t)})))},genIcon:function(){var t=this.$createElement,i=this.checked,n=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:e("icon",[this.shape,{disabled:this.isDisabled,checked:i}]),style:{fontSize:(0,o.N)(n)}},[this.slots("icon",{checked:i})||t(s.Z,{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,i=this.slots();if(i)return t("span",{class:e("label",[this.labelPosition,{disabled:this.isDisabled}])},[i])}},render:function(){var t=arguments[0],i=[this.genIcon()];return"left"===this.labelPosition?i.unshift(this.genLabel()):i.push(this.genLabel()),t("div",{attrs:{role:r,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:e([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[i])}}}},5065:function(t,i,e){e.d(i,{f:function(){return s}});var s={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},9435:function(t,i,e){e.d(i,{j:function(){return a},G:function(){return o}});e(7658);function s(t){var i=[];function e(t){t.forEach((function(t){i.push(t),t.componentInstance&&e(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&e(t.children)}))}return e(t),i}function n(t,i){var e=i.$vnode.componentOptions;if(e&&e.children){var n=s(e.children);t.sort((function(t,i){return n.indexOf(t.$vnode)-n.indexOf(i.$vnode)}))}}function a(t,i){var e,s;void 0===i&&(i={});var a=i.indexKey||"index";return{inject:(e={},e[t]={default:null},e),computed:(s={parent:function(){return this.disableBindRelation?null:this[t]}},s[a]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},s),watch:{disableBindRelation:function(t){t||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(i){return i!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);n(t,this.parent),this.parent.children=t}}}}}function o(t){return{provide:function(){var i;return i={},i[t]=this,i},data:function(){return{children:[]}}}}}}]);
//# sourceMappingURL=859.0c06997d.js.map