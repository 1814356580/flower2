"use strict";(self["webpackChunkflower_shop"]=self["webpackChunkflower_shop"]||[]).push([[425],{9093:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("van-picker",{ref:"picker",attrs:{title:"标题","show-toolbar":"",columns:t.columns,"value-key":t.valueKey},on:{confirm:t.onConfirm,cancel:t.onCancel}})],1)},i=[],n=(a(1958),a(2939),a(1744),a(7722)),o=(a(836),a(6811)),r={name:"pickerPopup",components:{[o.Z.name]:o.Z,[n.Z.name]:n.Z},data(){return{show:!1,columns:[]}},props:{datas:{type:Array,default:()=>[]},valueKey:{type:String,default:"text"}},methods:{setList(t){this.columns=t},showPopup(t){this.show=!this.show,t&&this.$nextTick((e=>{this.$refs.picker.setIndexes(t)}))},onConfirm(t,e){this.show=!1,this.$emit("confirm",t,e)},onCancel(){this.show=!1}},mounted(){},watch:{datas(){this.datas.length>0&&(this.columns=this.datas)}}},A=r,l=a(1001),u=(0,l.Z)(A,s,i,!1,null,"7de9f24c",null),c=u.exports},1900:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"as-box"},[e("action-bar",{attrs:{title:"经营分析"}}),e("van-tabs",{staticClass:"tabs",attrs:{animated:"",swipeable:"",color:"#42D18A"},on:{click:t.clickTabsItem},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabData,(function(s){return e("van-tab",{key:s.title,attrs:{title:s.title}},[s.data?[e("div",{staticClass:"analysis-box"},[e("div",{staticClass:"date-box",on:{click:t.choiceDate}},[t._v(" "+t._s(s.date)+" "),e("img",{staticClass:"img-right",attrs:{src:a(2047)}})]),e("div",{staticClass:"analysis-item"},[e("analysis-card",{attrs:{title:"成交额",value:s.data.tradeAmount,beforeValue:s.data.beforeTradeAmount,beforeTip:s.beforeTip}})],1),e("div",{staticClass:"analysis-item no-left"},[e("analysis-card",{attrs:{title:"成交单数",value:s.data.tradeCount,beforeValue:s.data.beforeTradeCount,beforeTip:s.beforeTip,unit:"单"}})],1),e("div",{staticClass:"analysis-item"},[e("analysis-card",{attrs:{title:"成交商品数",value:s.data.tradeProductCount,beforeValue:s.data.beforeTradeProductCount,beforeTip:s.beforeTip,unit:"个"}})],1),e("div",{staticClass:"analysis-item no-left"},[e("analysis-card",{attrs:{title:"客单价",value:s.data.customerUnitPrice,beforeValue:s.data.beforeCustomerUnitPrice,beforeTip:s.beforeTip}})],1),e("div",{staticClass:"analysis-item"},[e("analysis-card",{attrs:{title:"售后金额",value:s.data.afterSalesPrice,beforeValue:s.data.beforeAfterSalesPrice,beforeTip:s.beforeTip}})],1),e("div",{staticClass:"analysis-item no-left"},[e("analysis-card",{attrs:{title:"售后单数",value:s.data.afterSalesCount,beforeValue:s.data.beforeAfterSalesCount,beforeTip:s.beforeTip,unit:"单"}})],1)])]:t._e()],2)})),1),e("date-picker-popup",{ref:"dayPopup",attrs:{type:"date"},on:{confirm:t.sureDate}}),e("picker-popup",{ref:"weekPopup",on:{confirm:t.sureDate}}),e("date-picker-popup",{ref:"monthPopup",attrs:{type:"year-month"},on:{confirm:t.sureDate}})],1)},i=[],n=(a(446),a(7847)),o=(a(5762),a(5094)),r=(a(7658),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),""===t.unit?[e("div",{staticClass:"sign"},[t._v("¥"),e("span",{staticClass:"trade"},[t._v(t._s(t.value))])])]:[e("div",{staticClass:"sign"},[e("span",{staticClass:"trade"},[t._v(t._s(t.value))]),t._v(t._s(t.unit))])],e("div",{staticClass:"desc"},[t._v(" "+t._s(t.beforeTip)+t._s(t.beforeValue)+" "),t.value>t.beforeValue?e("img",{staticClass:"img-situation",attrs:{src:a(4718)}}):t.value===t.beforeValue?e("img",{staticClass:"img-situation",attrs:{src:a(5201)}}):e("img",{staticClass:"img-situation",attrs:{src:a(7906)}})])],2)}),A=[],l={name:"AnalysisCard",data(){return{}},props:{title:{type:String,default:""},value:{type:Number,default:0},beforeValue:{type:Number,default:0},unit:{type:String,default:""},beforeTip:{type:String,default:""}},methods:{},mounted(){}},u=l,c=a(1001),m=(0,c.Z)(u,r,A,!1,null,"21d065e4",null),d=m.exports,p=a(5928),f=a(7698),Z=a(9093),b={name:"businessAnalysis",components:{[o.Z.name]:o.Z,[n.Z.name]:n.Z,analysisCard:d,[f.Z.name]:f.Z,[Z.Z.name]:Z.Z},data(){return{active:0,tabData:[{date:"",title:"日报",beforeTip:"较前一天",data:null},{date:"",title:"周报",beforeTip:"较前一周",data:null,dateList:null},{date:"",title:"月报",beforeTip:"较前一月",data:null}]}},methods:{sureDate(t){const e=this.tabData[this.active];e.date=t,this.getAnalysis()},choiceDate(){const t=this.tabData[this.active];"日报"===t.title?this.$refs.dayPopup.showPopup():"周报"===t.title?(this.$refs.weekPopup.setList(t.dateList),this.$refs.weekPopup.showPopup()):this.$refs.monthPopup.showPopup()},clickTabsItem(t,e){this.getAnalysis()},getAnalysis(){const t=this.tabData,e=t[this.active],a={type:e.title,date:e.date};(0,p.RN)(a).then((t=>{e.data=t.data})).catch((t=>{this.$toast(t.msg)}))},initDate(){const t=this.tabData,e=new Date;t.forEach((t=>{if("日报"===t.title){const a=e.getMonth()+1;t.date=e.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+e.getDate()}else if("周报"===t.title){const e=this.getTimer();t.dateList=e,t.date=e[0]}else"月报"===t.title&&(t.date=e.getFullYear()+"-"+(e.getMonth()+1))}))},getTimer(){let t=new Date,e=t.getTime(),a=t.getDay();const s=864e5;let i=e-(a-1)*s,n=e+(7-a)*s;const o=[];for(let A=0;A<90;A++)o.push(this.setTime(i)+","+this.setTime(n)),t=new Date(t-s),e=t.getTime(),a=t.getDay(),i=e-(a-1)*s,n=e+(7-a)*s;const r=[...new Set(o)];return r},setTime(t){const e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,i=e.getDate(),n=a+"-"+(s<10?"0"+s:s)+"-"+(i<10?"0"+i:i);return n}},mounted(){this.initDate(),this.getAnalysis()}},h=b,g=(0,c.Z)(h,s,i,!1,null,"6169a62b",null),v=g.exports},7906:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkBAMAAAATLoWrAAAAGFBMVEUAAAB1dYpjbIJjbIJkbINja4Nja4Rja4IVi8VFAAAAB3RSTlMADMasY/CffdOL9AAAAHJJREFUKM/VzzEKhEAQRNEZ2AMsLmxuZGwgpt7BwNgrKPKvL2OXlGAuWEnD5yWdHtpnuKV+vSV4Q+raM/1GfcfyjZQbBiXqSBVKqSkMClpSrCoM4sZyYZAPfWEgZAZCZiBkBkJmRmZGZkJm0ybk/ef0zHYKAix/0W2+oQAAAABJRU5ErkJggg=="},5201:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkAgMAAACcbnALAAAADFBMVEUAAACJkKCLkaGIj5/JfzKvAAAAA3RSTlMA5lHuPvHWAAAAHUlEQVQY02MYMMD5HwRuAFnsYNYXBAshSyPz6A8ALScvSfy/BPcAAAAASUVORK5CYII="},4718:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkBAMAAAATLoWrAAAAGFBMVEUAAABN2J1D0otD0otD04tC0otC1IxC0YqyANfYAAAAB3RSTlMADMasY/CffdOL9AAAAHVJREFUKM/VzTEKgDAQRNERPEBQsLdKbSG2uYOFtVeIyFzfdbdw2QMEnCKBnwdBo01nLN1xp5AGcg4okzVFJCyiwAQFJqiSWZn7jnxPjxKpl0Mg4Zi+kqqt9PpIKi+WBFkSZgnrAksYd3yzBPwhbRfi+oI2ewDWIix/pHQL6QAAAABJRU5ErkJggg=="},2047:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAMAAADdclTDAAAAS1BMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkI0+mmAAAAGHRSTlMA7ayNTDb335+BQiwi1nhwZ1YCybiWXRbrz7W/AAAAXElEQVQY02XQSxKAIAwDUKigoqLiN/c/qQtnbCrdvUWbTJ0URwOspAtYiKFiIg4/ejTE2Fp69MTRcuogGzFDbK7i3nHomXdPj5g8Tju1JxeLjACL+UNRVD/LifAAoFoFP1ffsigAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=425.82665cef.js.map