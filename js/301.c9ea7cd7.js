"use strict";(self["webpackChunkflower_shop"]=self["webpackChunkflower_shop"]||[]).push([[301],{5158:function(t,s,o){o.d(s,{Z:function(){return l}});var e=function(){var t=this,s=t._self._c;return s("scroll-view",{staticClass:"scroll-type",attrs:{data:t.datas}},[t._l(t.datas,(function(o,e){return[s("div",{key:o.categoryId,class:{goods:!0,"goods-type-item":!0,"goods-type-checked":t.goodsTypeCheckIndex==e,"goods-type-child-checked":t.goodsTypeCheckIndex===e&&-1!=t.goodsTypeChildCheckIndex},on:{click:function(s){return t.goodsTypeClick(e)}}},[t._v(" "+t._s(o.categoryName)+" ")]),t.goodsTypeCheckIndex===e?[t._l(o.children,(function(o,e){return[s("div",{key:o.category2Id,class:["goods-type-item","item-child",t.goodsTypeChildCheckIndex==e?"goods-type-checked":""],on:{click:function(s){return t.goodsTypeChildClick(e)}}},[t._v(" "+t._s(o.category2Name)+" ")])]}))]:t._e()]}))],2)},i=[],d={name:"goodsType",props:{datas:{type:Array,default:()=>[]}},data(){return{goodsTypeChildCheckIndex:-1,goodsTypeCheckIndex:0}},methods:{goodsTypeClick(t){this.goodsTypeCheckIndex===t&&-1===this.goodsTypeChildCheckIndex||this.typeClick(t)},typeClick(t){this.goodsTypeCheckIndex=t,this.goodsTypeChildCheckIndex=-1,this.$emit("clicktype",{parentIndex:this.goodsTypeCheckIndex,childIndex:this.goodsTypeChildCheckIndex})},goodsTypeChildClick(t){this.goodsTypeChildCheckIndex!==t&&(this.goodsTypeChildCheckIndex=t,this.$emit("clicktype",{parentIndex:this.goodsTypeCheckIndex,childIndex:this.goodsTypeChildCheckIndex}))}},mounted(){}},a=d,n=o(1001),c=(0,n.Z)(a,e,i,!1,null,"d7524d22",null),l=c.exports},1590:function(t,s,o){o.d(s,{Z:function(){return l}});var e=function(){var t=this,s=t._self._c;return s("div",[t._t("topSlot"),s("div",[s("div",{staticClass:"goods-item-main"},[s("div",{staticClass:"goods-item-img"},[t._t("imgSlot")],2),s("div",{staticClass:"goods-item-content"},[s("div",{staticClass:"goods-item-title"},[t._t("nameSlot")],2),s("div",{staticClass:"goods-item-attribute"},[t._t("attributeSlot")],2)])])]),t._t("menuSlot")],2)},i=[],d={name:"goodsItem",data(){return{}},methods:{},mounted(){}},a=d,n=o(1001),c=(0,n.Z)(a,e,i,!1,null,"1f769a80",null),l=c.exports},5301:function(t,s,o){o.r(s),o.d(s,{default:function(){return C}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"com-box"},[s("action-bar",{attrs:{title:"易批花商品库"}}),s("div",{staticClass:"search"},[s("div",{staticClass:"search-input",on:{click:t.bindSearchGoods}},[s("van-icon",{staticClass:"search-icon",attrs:{name:"search",color:"#b4b4b4",size:"16px"}}),s("span",{staticClass:"search-text"},[t._v("搜索想要创建的商品")])],1),s("img",{staticClass:"commoidy",attrs:{src:o(506)},on:{click:t.bindLookGoods}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"content-specific"},[s("div",{staticClass:"content-left"},[s("goods-type",{attrs:{datas:t.goodsType},on:{clicktype:t.GetChoiceType}})],1),s("div",{staticClass:"content-right"},[s("scroll-view",{ref:"scroll",staticClass:"scroll",attrs:{loadmore:"",data:t.goodsList,noMoreData:t.noMoreData},on:{scrolltolower:t.onLoadMore}},t._l(t.goodsList,(function(o,e){return s("goods-item",{key:o.skuCategoryEncode},[s("van-image",{staticClass:"goods-img",attrs:{slot:"imgSlot",radius:".25rem",src:t.baseUrl+o.imageUrl},slot:"imgSlot"}),s("div",{attrs:{slot:"nameSlot"},slot:"nameSlot"},[t._v(t._s(o.spuName))]),s("div",{attrs:{slot:"attributeSlot"},slot:"attributeSlot"},[t._v(" "+t._s(o.categoryName)+" ")]),s("div",{attrs:{slot:"menuSlot"},slot:"menuSlot"},t._l(o.items,(function(o,i){return s("div",{key:o.skuId},["1"==o.libraryState?s("div",{staticClass:"goods-released"},[t._v(" "+t._s(o.skuName)+" ")]):"0"==o.libraryState?s("div",{staticClass:"goods-not-check",on:{click:function(s){return t.bindClickGoods(e,i)}}},[t._v(" "+t._s(o.skuName)+" ")]):"2"==o.libraryState?s("div",{staticClass:"goods-checked",on:{click:function(s){return t.bindClickGoods(e,i)}}},[t._v(" "+t._s(o.skuName)+" ")]):t._e()])})),0)],1)})),1)],1)])])],1)},i=[],d=(o(5825),o(9858)),a=(o(7658),o(5158)),n=o(1590),c=o(5928),l={name:"goodsCommodity",components:{[d.Z.name]:d.Z,goodsType:a.Z,goodsItem:n.Z},computed:{baseUrl(){return this.$store.state.baseUrl}},data(){return{goodsType:[],groupId:"",childId:"",goodsTypeCheckIndex:0,start:0,limit:10,goodsList:[],noMoreData:!1}},methods:{bindSearchGoods(){this.$router.push("/searchGoods")},bindLookGoods(){this.$router.push("/alreadyAddCommoidy")},onLoadMore(){this.start=this.start+this.limit,this.getGoodsData()},GetChoiceType(t){const s=this.goodsType,o=t.parentIndex,e=t.childIndex;this.goodsTypeCheckIndex=o,this.groupId=s[o].categoryId,this.childId=e>=0?s[o].children[e].category2Id:"",this.goodsList=[],this.start=0,this.getGoodsData()},getGoodsType(){(0,c.EZ)().then((t=>{this.goodsType=t.data,t.data.length>0&&(this.groupId=t.data[this.goodsTypeCheckIndex].categoryId,this.getGoodsData())})).catch((t=>{this.toast.showToast(t.msg)}))},getGoodsData(){let t=this.start;this.isReset&&(t=0),this.start=t,(0,c.KI)({start:t,limit:this.limit,categoryId:this.groupId,category2Id:this.childId}).then((t=>{this.$refs.scroll.loaded();let s=!1;t.data.length<10&&(s=!0);let o=this.goodsList;null==o||!0===this.isReset?o=t.data:o.push(...t.data),this.noMoreData=s})).catch((t=>{this.$refs.scroll.loaded(),this.$toast(t.msg)}))},bindClickGoods(t,s){const o=this.goodsList,e=o[t].items[s];(0,c.Jo)({skuId:e.skuId}).then((t=>{e.libraryState?e.libraryState=0:e.libraryState=2})).catch((t=>{this.$toast(t.msg)}))}},mounted(){this.getGoodsType()}},r=l,h=o(1001),g=(0,h.Z)(r,e,i,!1,null,"3125b442",null),C=g.exports},5825:function(t,s,o){o(1958),o(3332),o(6742)},506:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAb1BMVEUAAACJj6CNoKSIj5+NkqKJkKCIkJ+JkKCMlKGIj6CSlqWTk6OIj5+7u7uJkKCXnaqIkKCJj6CJkKCJkKCJkJ+JkKCJkaCLkqSMkaCIkKCKj6CJj6KqqqqJkKGKk6KIj6CJkKGIkJ+KkKCIkaCIj5+65DlFAAAAJHRSTlMA9wvPMMfnqRfaExCxBNMH8ergtp+Mdioho0IpA208u5qFXlYK4T4tAAABEUlEQVRIx+2UyVLDMBAFx5sWUOR4TWzCPv//jQSnSiPNuHThBKRveem+2JbgH1BOtl8MSEwdiP9+rPBKd+L6ajHCrqkvixoZNfk3VFoMPBiCH4qnOOh40DGfFyj49htEVmSDQ/BDYbLBsxyXbODkqLKBlmOfDT7lOGUDWPhWlfngopn/ANmACulDwf1imw869QnLAwtUkE9M8nlQQT5R+tT3JVBBfkQ7D1VgmFsgPtwr/f4RZWBvuzD77I4YOLrzdn7eFG1F85L4N52Sa9F6TFmB0MjQALN8N4RChto7Dyb/LTViq+/Brw/6nTtOiyA6diMyxp3L2ANhFL/Y5XVfJAfCjLYI2NFs5/zd06bcCf4OX9e1nT5rb9ZvAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=301.c9ea7cd7.js.map