"use strict";(self["webpackChunkflower_shop"]=self["webpackChunkflower_shop"]||[]).push([[232],{1590:function(t,i,s){s.d(i,{Z:function(){return c}});var e=function(){var t=this,i=t._self._c;return i("div",[t._t("topSlot"),i("div",[i("div",{staticClass:"goods-item-main"},[i("div",{staticClass:"goods-item-img"},[t._t("imgSlot")],2),i("div",{staticClass:"goods-item-content"},[i("div",{staticClass:"goods-item-title"},[t._t("nameSlot")],2),i("div",{staticClass:"goods-item-attribute"},[t._t("attributeSlot")],2)])])]),t._t("menuSlot")],2)},o=[],a={name:"goodsItem",data(){return{}},methods:{},mounted(){}},n=a,r=s(1001),l=(0,r.Z)(n,e,o,!1,null,"1f769a80",null),c=l.exports},2232:function(t,i,s){s.r(i),s.d(i,{default:function(){return S}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"create"},[i("action-bar",{attrs:{title:"创建商品"}}),i("div",{staticClass:"add"},[i("div",{staticClass:"title"},[t._v("添加商品"),i("span",{staticClass:"goods-census"},[t._v("共"+t._s(t.goodsList.length)+"件")])]),i("div",{staticClass:"release",on:{click:t.bindRelease}},[t._v("发布")])]),i("div",{staticClass:"add-goods-box"},[i("div",{staticClass:"no-font-size",on:{click:t.bindAddGoods}},[i("img",{staticClass:"add-goods-img",attrs:{src:s(2416)}})]),i("div",{staticClass:"hor-goods-box"},[i("div",{staticClass:"hor-scroll"},t._l(t.goodsList,(function(s){return i("van-image",{key:s.id,staticClass:"hor-goods-img",attrs:{src:t.baseUrl+s.imageUrl}})})),1)])]),i("div",{staticClass:"content"},[i("scroll-view",{staticClass:"scroll",attrs:{data:t.goodsList}},[i("div",{staticClass:"scroll-box"},t._l(t.goodsList,(function(e,o){return i("goods-item",{key:e.id,staticClass:"goods-box"},[i("van-image",{staticClass:"goods-img",attrs:{slot:"imgSlot",radius:".25rem",src:t.baseUrl+e.imageUrl},slot:"imgSlot"}),i("div",{attrs:{slot:"nameSlot"},slot:"nameSlot"},[i("img",{staticClass:"delete-img",attrs:{src:s(5927)},on:{click:function(i){return t.bindDeleteGoods(o)}}}),i("div",[t._v(t._s(e.skuName))])]),i("div",{attrs:{slot:"attributeSlot"},slot:"attributeSlot"},[i("div",{staticClass:"attribute"},[i("div",{staticClass:"attribute-content"},[t._v("分类："+t._s(e.categoryName))]),i("div",{staticClass:"attribute-content"},[t._v("颜色："+t._s(e.color))])]),i("div",{staticClass:"attribute"},[i("div",{staticClass:"attribute-content"},[t._v("等级："+t._s(e.level))]),i("div",{staticClass:"attribute-content"},[t._v("规格："+t._s(e.unit))])])]),i("div",{staticClass:"goods-bottom",attrs:{slot:"menuSlot"},slot:"menuSlot"},[i("div",{staticClass:"price-stock"},[i("span",[t._v("价格(元)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.priceStay,expression:"item.priceStay"}],staticClass:"input-bg",attrs:{type:"number",maxlength:"10",placeholder:"0.00元"},domProps:{value:e.priceStay},on:{input:function(i){i.target.composing||t.$set(e,"priceStay",i.target.value)}}})]),i("div",{staticClass:"price-stock"},[i("span",[t._v("库存(扎)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.stockStay,expression:"item.stockStay"}],staticClass:"input-bg",attrs:{type:"number",maxlength:"10",placeholder:"0扎"},domProps:{value:e.stockStay},on:{input:function(i){i.target.composing||t.$set(e,"stockStay",i.target.value)}}})])])],1)})),1)])],1)],1)},o=[],a=(s(1958),s(2939),s(855)),n=s(4292),r=s(8161),l=s(5590),c=s(4958),d=(0,a.d)("list"),g=d[0],h=d[1],u=d[2],A=g({mixins:[(0,l.X)((function(t){this.scroller||(this.scroller=(0,r.Ob)(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var i,s=t.$el,e=t.scroller,o=t.offset,a=t.direction;i=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,bottom:e.innerHeight};var r=i.bottom-i.top;if(!r||(0,n.x)(s))return!1;var l=!1,c=t.$refs.placeholder.getBoundingClientRect();l="up"===a?i.top-c.top<=o:c.bottom-i.bottom<=o,l&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:h("loading")},[this.slots("loading")||t(c.Z,{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var i=this.slots("finished")||this.finishedText;if(i)return t("div",{class:h("finished-text")},[i])}},genErrorText:function(){var t=this.$createElement;if(this.error){var i=this.slots("error")||this.errorText;if(i)return t("div",{on:{click:this.clickErrorText},class:h("error-text")},[i])}}},render:function(){var t=arguments[0],i=t("div",{ref:"placeholder",key:"placeholder",class:h("placeholder")});return t("div",{class:h(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():i,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():i])}}),m=(s(7658),s(5928)),v=s(1590),f={name:"releaseGoods",components:{[v.Z.name]:v.Z,[A.name]:A},data(){return{goodsList:[]}},computed:{baseUrl(){return this.$store.state.baseUrl}},methods:{bindRelease(){const t=this.goodsList;if(0===t.length)return void this.$toast("请添加商品");const i=[];for(const e of t){if(!e.priceStay)return void this.$toast("<"+e.skuName+">价格不能为空");if(!e.stockStay)return void this.$toast("<"+e.skuName+">库存不能为空");i.push({price:e.priceStay,stock:e.stockStay,skuId:e.skuId})}const s={data:JSON.stringify(i)};(0,m.gK)(s).then((t=>{this.$router.go(-1),this.$toast("创建成功")})).catch((t=>{this.$toast(t.msg)}))},bindAddGoods(){this.$router.push("/goodsCommodity")},bindDeleteGoods(t){const i=this.goodsList;(0,m.Jo)({skuId:i[t].skuId}).then((s=>{i.splice(t,1),this.goodsList=i}))},getGoodsList(){(0,m.el)().then((t=>{this.goodsList=t.data})).catch((t=>{}))}},mounted(){},activated(){this.getGoodsList()}},p=f,k=s(1001),b=(0,k.Z)(p,e,o,!1,null,"1607c728",null),S=b.exports},4292:function(t,i,s){function e(t){var i=window.getComputedStyle(t),s="none"===i.display,e=null===t.offsetParent&&"fixed"!==i.position;return s||e}s.d(i,{x:function(){return e}})},2416:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEUAAACJkKCIj6GIj5+QO2niAAAAA3RSTlMA40mAJZ3FAAAAMUlEQVQoz2OgK+BMQOKwX0Di8H8YpJz5/8HgG5hTD+H8RecglA0SV+PlsF9AjRJ6AgC/3Thz3cPtVwAAAABJRU5ErkJggg=="},5927:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjhFQUU2MkJFNkJDMTFFNjk5MzJERDcyQUZFMEY4QzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjhFQUU2MkNFNkJDMTFFNjk5MzJERDcyQUZFMEY4QzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MDYwNDg5MEU2OTkxMUU2OTkzMkRENzJBRkUwRjhDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyOEVBRTYyQUU2QkMxMUU2OTkzMkRENzJBRkUwRjhDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtZOx3kAAAQmSURBVHja3JpNSFRRFMfvmBWZtsgKyo+ohdrXKiUsC5wSCfpYBJUfLfpU0wpaRVRqto2gNMmklaa2EWpRhiiUFabVpvJjkVRakLnJkjBq+l/8P3i85r15786b0enAjzsz+u49/zfHc889T4/P5xORbFEiwi1a/6ajoyNiHPd6vf/hNxBkKGaAbJAOUkACmM+f/wAjYBD0gk7QA/5Mt4BEUAoKQJLF780FC8E6sIeffQSNoAYMh1tAPLgIjoA5/GwItIEu0Afeg3H+LA4sB6tAFsgFK8AZcBrUgwtgLBwC9vKuLQK/QROoBs+AWU4eIy951z0gE5RxvuMc5fuWUKVRKbaWC0jn28FakA+eWjjvz3y8Jp9ztHPOZq4R7baAGNAKisFPUARyQL8LCaCfcxVx7mKuFeOWgGiGyQ4wCraAuhBkxDrOPcq1mux8E3YEyPjexYk3M/2Fynq4xijXrA5WwD5+tRNgJxgIw940wLUmuHaeqoB43R04BbrDuMF2c00tAharCLikyzb101Al1HNtuQFWORWQDA5zqz9psUgBS4RyBQflNV+YSs3sBPeaQ/TJtoASMJs5v89igStgGahwKKKc18jQuBwgxd6hLyV2BcjPCvm6JoAj13Wv7YrQnNfsho0sKOhTlB0BGSzShrhbWpl0pNKBCKPzlYb3/kyWKO/oU4YdAV6OD2yWB3ZFqDivlR1tfJ1tR8B6jk8cxHQgEarOC4Mv6Xaq0VSObxxmlQqds8LgYDDOS3tr8M1SwFLdgUO4KELVecGzhd43yxCK4ziuuAEZwylY56V9N/gW8raKz0XnHRdz42ZqHW5SbjofaxYV/gR85pjksvPyMP9BsexINvhmKUArmVe7fOdreVMqFESsMfhmKeAFxyyXw0al7NBsE8deOwI6Oeaye+BWzDstOzTz0Be9b5YCnrPRtBJsdPkPVkVEJn0Z9nec9SdAngEa+Lo0wOTHFLKNUUSgNco4Ngg/rUizfUCW0ZNsNqVZTC67al8VUqUm4hMPLWaWRh8mzUp7MwHDPNLNAtcsFmjhoUQlz8trEgJ04q7Sh1vCpH9qtRNrvcpt4OA0nIkPsOElfTincqgf08WfPBVtCLOAV+AeOCosmr6BaqFmHvliOFlqGAW8ZnOrNZjGlmBX4i5j/ZHuwDMjzI6ASXbH7oMl4LEhfc54AdJkm283w2kex4cuhZScQzZyt4ZSgLRfYqr1ncfcn8Nj523ulh6Ha8trGjnHfmGjkevPVJ7QyD9s2fKrYscsjwwxzLrYkJKl8zdes4AlcRqLxO1i6hGTFqI3wXkVAR79k3qF58SJTLWF3JSc2AjLg2qh8JBPe04c7FNKubB8UHeWTScvs1QKxcXqzrTydwdZrneIGfKYVV8AdovwtuD/DaFItIj/V4OIF/BXgAEAAy4Dnp5Y+vgAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=232.e09b38d6.js.map