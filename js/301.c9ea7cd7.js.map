{"version":3,"file":"js/301.c9ea7cd7.js","mappings":"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","sources":["webpack://flower_shop/./src/components/goods/GoodsType.vue","webpack://flower_shop/src/components/goods/GoodsType.vue","webpack://flower_shop/./src/components/goods/GoodsType.vue?c169","webpack://flower_shop/./src/components/goods/GoodsType.vue?b94c","webpack://flower_shop/./src/components/util/GoodsItem.vue","webpack://flower_shop/src/components/util/GoodsItem.vue","webpack://flower_shop/./src/components/util/GoodsItem.vue?8c89","webpack://flower_shop/./src/components/util/GoodsItem.vue?458d","webpack://flower_shop/./src/views/indexTab/goodsManage/GoodsCommodity.vue","webpack://flower_shop/src/views/indexTab/goodsManage/GoodsCommodity.vue","webpack://flower_shop/./src/views/indexTab/goodsManage/GoodsCommodity.vue?1412","webpack://flower_shop/./src/views/indexTab/goodsManage/GoodsCommodity.vue?52b0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('scroll-view',{staticClass:\"scroll-type\",attrs:{\"data\":_vm.datas}},[_vm._l((_vm.datas),function(item,pIndex){return [_c('div',{key:item.categoryId,class:{\n        goods: true,\n        'goods-type-item': true,\n        'goods-type-checked': _vm.goodsTypeCheckIndex == pIndex,\n        'goods-type-child-checked':\n          _vm.goodsTypeCheckIndex === pIndex && _vm.goodsTypeChildCheckIndex != -1,\n      },on:{\"click\":function($event){return _vm.goodsTypeClick(pIndex)}}},[_vm._v(\" \"+_vm._s(item.categoryName)+\" \")]),(_vm.goodsTypeCheckIndex === pIndex ? true : false)?[_vm._l((item.children),function(cItem,cIndex){return [_c('div',{key:cItem.category2Id,class:[\n          'goods-type-item',\n          'item-child',\n          _vm.goodsTypeChildCheckIndex == cIndex ? 'goods-type-checked' : '',\n        ],on:{\"click\":function($event){return _vm.goodsTypeChildClick(cIndex)}}},[_vm._v(\" \"+_vm._s(cItem.category2Name)+\" \")])]})]:_vm._e()]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <scroll-view class=\"scroll-type\" :data=\"datas\" >\r\n    <template v-for=\"(item, pIndex) in datas\">\r\n      <div\r\n        @click=\"goodsTypeClick(pIndex)\"\r\n        :key=\"item.categoryId\"\r\n        :class=\"{\r\n          goods: true,\r\n          'goods-type-item': true,\r\n          'goods-type-checked': goodsTypeCheckIndex == pIndex,\r\n          'goods-type-child-checked':\r\n            goodsTypeCheckIndex === pIndex && goodsTypeChildCheckIndex != -1,\r\n        }\"\r\n      >\r\n        {{ item.categoryName }}\r\n        <!-- 子类型 -->\r\n      </div>\r\n      <template v-if=\"goodsTypeCheckIndex === pIndex ? true : false\">\r\n        <template v-for=\"(cItem, cIndex) in item.children\">\r\n        <div\r\n          :key=\"cItem.category2Id\"\r\n          :class=\"[\r\n            'goods-type-item',\r\n            'item-child',\r\n            goodsTypeChildCheckIndex == cIndex ? 'goods-type-checked' : '',\r\n          ]\"\r\n          @click=\"goodsTypeChildClick(cIndex)\"\r\n        >\r\n          {{ cItem.category2Name }}\r\n        </div>\r\n      </template>\r\n      </template>\r\n    </template>\r\n  </scroll-view>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'goodsType',\r\n  props: {\r\n    datas: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      goodsTypeChildCheckIndex: -1,\r\n      goodsTypeCheckIndex: 0\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击商品类型\r\n    goodsTypeClick (index) {\r\n      if (this.goodsTypeCheckIndex === index &&\r\n        this.goodsTypeChildCheckIndex === -1) {\r\n        return\r\n      }\r\n      this.typeClick(index)\r\n    },\r\n    typeClick (index) {\r\n      this.goodsTypeCheckIndex = index\r\n      this.goodsTypeChildCheckIndex = -1\r\n      this.$emit('clicktype', {\r\n        parentIndex: this.goodsTypeCheckIndex,\r\n        childIndex: this.goodsTypeChildCheckIndex\r\n      })\r\n    },\r\n    // 点击商品类型子项\r\n    goodsTypeChildClick (cIndex) {\r\n      if (this.goodsTypeChildCheckIndex === cIndex) {\r\n        return\r\n      }\r\n      this.goodsTypeChildCheckIndex = cIndex\r\n      this.$emit('clicktype', {\r\n        parentIndex: this.goodsTypeCheckIndex,\r\n        childIndex: this.goodsTypeChildCheckIndex\r\n      })\r\n    }\r\n  },\r\n  mounted () {}\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.goods-type-item {\r\n  padding: 0.25rem;\r\n  min-height: 2rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n}\r\n\r\n.goods {\r\n  background-color: transparent;\r\n  color: #666666;\r\n  background-color: #f5f7f9;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.scroll-type {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f5f7f9;\r\n}\r\n\r\n.goods-type-checked {\r\n  color: #42d18a;\r\n  background-color: white;\r\n}\r\n\r\n.goods-type-child-checked {\r\n  color: #42d18a;\r\n  background-color: transparent;\r\n}\r\n\r\n.item-child {\r\n  font-size: 0.75rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsType.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsType.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsType.vue?vue&type=template&id=d7524d22&scoped=true&\"\nimport script from \"./GoodsType.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsType.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsType.vue?vue&type=style&index=0&id=d7524d22&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7524d22\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._t(\"topSlot\"),_c('div',[_c('div',{staticClass:\"goods-item-main\"},[_c('div',{staticClass:\"goods-item-img\"},[_vm._t(\"imgSlot\")],2),_c('div',{staticClass:\"goods-item-content\"},[_c('div',{staticClass:\"goods-item-title\"},[_vm._t(\"nameSlot\")],2),_c('div',{staticClass:\"goods-item-attribute\"},[_vm._t(\"attributeSlot\")],2)])])]),_vm._t(\"menuSlot\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <slot name=\"topSlot\"></slot>\r\n        <div>\r\n            <div class=\"goods-item-main\">\r\n                <div class=\"goods-item-img\">\r\n                    <slot name=\"imgSlot\"></slot>\r\n                </div>\r\n                <div class=\"goods-item-content\">\r\n                    <div class=\"goods-item-title\">\r\n                        <slot name=\"nameSlot\"></slot>\r\n                    </div>\r\n                    <div class=\"goods-item-attribute\">\r\n                        <slot name=\"attributeSlot\"></slot>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <slot name=\"menuSlot\"></slot>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'goodsItem',\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  methods: {\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.goods-item-main {\r\n    width: 100%;\r\n    padding-top: .25rem;\r\n    padding-bottom: .25rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n .goods-item-img {\r\n    margin-left:.25rem;\r\n    font-size: 0;\r\n}\r\n\r\n.goods-item-content {\r\n    // padding-left: .375rem;\r\n    padding-right: .375rem;\r\n    flex-grow: 1;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-direction: column;\r\n}\r\n\r\n.goods-item-title {\r\n    font-size: 1rem;\r\n}\r\n\r\n.goods-item-attribute {\r\n    color: #888F9F;\r\n    font-size: .75rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsItem.vue?vue&type=template&id=1f769a80&scoped=true&\"\nimport script from \"./GoodsItem.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsItem.vue?vue&type=style&index=0&id=1f769a80&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f769a80\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"com-box\"},[_c('action-bar',{attrs:{\"title\":\"易批花商品库\"}}),_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-input\",on:{\"click\":_vm.bindSearchGoods}},[_c('van-icon',{staticClass:\"search-icon\",attrs:{\"name\":\"search\",\"color\":\"#b4b4b4\",\"size\":\"16px\"}}),_c('span',{staticClass:\"search-text\"},[_vm._v(\"搜索想要创建的商品\")])],1),_c('img',{staticClass:\"commoidy\",attrs:{\"src\":require(\"@/assets/easyflower_commoidy_count.png\")},on:{\"click\":_vm.bindLookGoods}})]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content-specific\"},[_c('div',{staticClass:\"content-left\"},[_c('goods-type',{attrs:{\"datas\":_vm.goodsType},on:{\"clicktype\":_vm.GetChoiceType}})],1),_c('div',{staticClass:\"content-right\"},[_c('scroll-view',{ref:\"scroll\",staticClass:\"scroll\",attrs:{\"loadmore\":\"\",\"data\":_vm.goodsList,\"noMoreData\":_vm.noMoreData},on:{\"scrolltolower\":_vm.onLoadMore}},_vm._l((_vm.goodsList),function(item,index){return _c('goods-item',{key:item.skuCategoryEncode},[_c('van-image',{staticClass:\"goods-img\",attrs:{\"slot\":\"imgSlot\",\"radius\":\".25rem\",\"src\":_vm.baseUrl + item.imageUrl},slot:\"imgSlot\"}),_c('div',{attrs:{\"slot\":\"nameSlot\"},slot:\"nameSlot\"},[_vm._v(_vm._s(item.spuName))]),_c('div',{attrs:{\"slot\":\"attributeSlot\"},slot:\"attributeSlot\"},[_vm._v(\" \"+_vm._s(item.categoryName)+\" \")]),_c('div',{attrs:{\"slot\":\"menuSlot\"},slot:\"menuSlot\"},_vm._l((item.items),function(childItem,childIndex){return _c('div',{key:childItem.skuId},[(childItem.libraryState == '1')?_c('div',{staticClass:\"goods-released\"},[_vm._v(\" \"+_vm._s(childItem.skuName)+\" \")]):(childItem.libraryState == '0')?_c('div',{staticClass:\"goods-not-check\",on:{\"click\":function($event){return _vm.bindClickGoods(index, childIndex)}}},[_vm._v(\" \"+_vm._s(childItem.skuName)+\" \")]):(childItem.libraryState == '2')?_c('div',{staticClass:\"goods-checked\",on:{\"click\":function($event){return _vm.bindClickGoods(index, childIndex)}}},[_vm._v(\" \"+_vm._s(childItem.skuName)+\" \")]):_vm._e()])}),0)],1)}),1)],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"com-box\">\r\n    <action-bar title=\"易批花商品库\"></action-bar>\r\n    <div class=\"search\">\r\n      <div class=\"search-input\" @click=\"bindSearchGoods\">\r\n        <van-icon name=\"search\" color=\"#b4b4b4\" class=\"search-icon\" size=\"16px\" />\r\n        <span class=\"search-text\">搜索想要创建的商品</span>\r\n      </div>\r\n      <img class=\"commoidy\" @click=\"bindLookGoods\" src=\"@/assets/easyflower_commoidy_count.png\" />\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"content-specific\">\r\n        <div class=\"content-left\">\r\n          <goods-type :datas=\"goodsType\" @clicktype=\"GetChoiceType\">\r\n          </goods-type>\r\n        </div>\r\n        <div class=\"content-right\">\r\n          <scroll-view loadmore ref=\"scroll\" class=\"scroll\"  :data=\"goodsList\" :noMoreData=\"noMoreData\" @scrolltolower=\"onLoadMore\">\r\n            <goods-item v-for=\"(item, index) in goodsList\" :key=\"item.skuCategoryEncode\">\r\n                <van-image radius=\".25rem\" slot=\"imgSlot\" :src=\"baseUrl + item.imageUrl\" class=\"goods-img\" />\r\n                <div slot=\"nameSlot\">{{ item.spuName }}</div>\r\n                <div slot=\"attributeSlot\">\r\n                  {{ item.categoryName }}\r\n                </div>\r\n                <div slot=\"menuSlot\">\r\n                  <div v-for=\"(childItem, childIndex) in item.items\" :key=\"childItem.skuId\">\r\n                    <div v-if=\"childItem.libraryState == '1'\" class=\"goods-released\">\r\n                      {{ childItem.skuName }}\r\n                    </div>\r\n                    <div v-else-if=\"childItem.libraryState == '0'\" class=\"goods-not-check\"\r\n                      @click=\"bindClickGoods(index, childIndex)\">\r\n                      {{ childItem.skuName }}\r\n                    </div>\r\n                    <div v-else-if=\"childItem.libraryState == '2'\" class=\"goods-checked\"\r\n                      @click=\"bindClickGoods(index, childIndex)\">\r\n                      {{ childItem.skuName }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </goods-item>\r\n          </scroll-view>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Icon } from 'vant'\r\nimport goodsType from '@/components/goods/GoodsType.vue'\r\nimport goodsItem from '@/components/util/GoodsItem.vue'\r\nimport { productCategory, productLibraryList, libraryEdit } from '@/http/api'\r\n\r\nexport default {\r\n  name: 'goodsCommodity',\r\n  components: {\r\n    [Icon.name]: Icon,\r\n    goodsType,\r\n    goodsItem\r\n  },\r\n  computed: {\r\n    baseUrl () {\r\n      return this.$store.state.baseUrl\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      goodsType: [],\r\n      groupId: '', // 一级分类\r\n      childId: '', // 二级分类\r\n      goodsTypeCheckIndex: 0, // 商品分类选中下标\r\n      start: 0,\r\n      limit: 10,\r\n      goodsList: [],\r\n      noMoreData: false\r\n    }\r\n  },\r\n  methods: {\r\n    bindSearchGoods () {\r\n      this.$router.push('/searchGoods')\r\n    },\r\n    bindLookGoods () {\r\n      this.$router.push('/alreadyAddCommoidy')\r\n    },\r\n    // 上拉加载更多\r\n    onLoadMore () {\r\n      this.start = this.start + this.limit\r\n      this.getGoodsData()\r\n    },\r\n    GetChoiceType (data) {\r\n      const goodsType = this.goodsType\r\n      const parentIndex = data.parentIndex\r\n      const childIndex = data.childIndex\r\n\r\n      this.goodsTypeCheckIndex = parentIndex\r\n      this.groupId = goodsType[parentIndex].categoryId\r\n      this.childId =\r\n        childIndex >= 0\r\n          ? goodsType[parentIndex].children[childIndex].category2Id\r\n          : ''\r\n      this.goodsList = []\r\n      this.start = 0\r\n      this.getGoodsData()\r\n    },\r\n    // 获取商品库类别\r\n    getGoodsType () {\r\n      productCategory()\r\n        .then((res) => {\r\n          this.goodsType = res.data\r\n          // 根据设置的下标获取其他信息\r\n          if (res.data.length > 0) {\r\n            this.groupId = res.data[this.goodsTypeCheckIndex].categoryId\r\n            this.getGoodsData()\r\n          }\r\n        })\r\n        .catch((res) => {\r\n          this.toast.showToast(res.msg)\r\n        })\r\n    },\r\n    // 获取列表数据\r\n    getGoodsData () {\r\n      let start = this.start\r\n      if (this.isReset) {\r\n        start = 0\r\n      }\r\n      this.start = start\r\n      productLibraryList({\r\n        start: start,\r\n        limit: this.limit,\r\n        categoryId: this.groupId,\r\n        category2Id: this.childId\r\n      })\r\n        .then((res) => {\r\n          // 装载数据\r\n          this.$refs.scroll.loaded()\r\n          let nmd = false\r\n          if (res.data.length < 10) {\r\n            nmd = true\r\n          }\r\n          let goodsList = this.goodsList\r\n          if (\r\n            goodsList == null ||\r\n            this.isReset === true\r\n          ) {\r\n            goodsList = res.data\r\n          } else {\r\n            goodsList.push(...res.data)\r\n          }\r\n          this.noMoreData = nmd\r\n        })\r\n        .catch((res) => {\r\n          this.$refs.scroll.loaded()\r\n          this.$toast(res.msg)\r\n        })\r\n    },\r\n    bindClickGoods (pindex, cindex) {\r\n      const goodsList = this.goodsList\r\n      const item = goodsList[pindex].items[cindex]\r\n      libraryEdit({\r\n        skuId: item.skuId\r\n      }).then(res => {\r\n        if (item.libraryState) {\r\n          item.libraryState = 0\r\n        } else {\r\n          item.libraryState = 2\r\n        }\r\n      }).catch(res => {\r\n        this.$toast(res.msg)\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getGoodsType()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.com-box {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.search {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0 0.5rem;\r\n}\r\n\r\n.search-input {\r\n  flex-grow: 1;\r\n  background-color: #f5f7f9;\r\n  border-radius: 0.25rem;\r\n  padding: 0.5rem;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0.5rem;\r\n}\r\n\r\n.search-icon {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.commoidy {\r\n  width: 1.125rem;\r\n  height: auto;\r\n  padding: 0.375rem;\r\n}\r\n\r\n.search-text {\r\n  color: #999;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.content {\r\n  flex-grow: 1;\r\n  position: relative;\r\n}\r\n\r\n.content-specific {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.content-left {\r\n  display: inline-block;\r\n  width: 20%;\r\n  height: 100%;\r\n}\r\n\r\n.content-right {\r\n  display: inline-block;\r\n  width: 80%;\r\n  height: 100%;\r\n}\r\n\r\n.scroll{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.goods-img {\r\n  width: 20vw;\r\n  height: 20vw;\r\n  border-radius: 0.25rem;\r\n  margin: 0 0.25rem;\r\n  background-color: #f2f2f2;\r\n}\r\n\r\n.goods-empty {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.goods-empty .img-empty {\r\n  width: 40%;\r\n  height: auto;\r\n}\r\n\r\n.goods-released {\r\n  background-color: #f5f7f9;\r\n  color: #999;\r\n  padding: .375rem;\r\n  border-radius: .375rem;\r\n  margin: .375rem;\r\n  display: inline-block;\r\n  font-size: .875rem;\r\n}\r\n\r\n.goods-not-check {\r\n  background-color: white;\r\n  color: #333;\r\n  padding: .3125rem .375rem;\r\n  border-radius: .375rem;\r\n  margin: .375rem;\r\n  border: .0625rem solid #333;\r\n  display: inline-block;\r\n  font-size: .875rem;\r\n\r\n}\r\n\r\n.goods-checked {\r\n  background-color: #42D18A;\r\n  color: white;\r\n  padding: .375rem;\r\n  border-radius: .375rem;\r\n  margin: .375rem;\r\n  display: inline-block;\r\n  font-size: .875rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsCommodity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GoodsCommodity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsCommodity.vue?vue&type=template&id=3125b442&scoped=true&\"\nimport script from \"./GoodsCommodity.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsCommodity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsCommodity.vue?vue&type=style&index=0&id=3125b442&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3125b442\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","datas","_l","item","pIndex","key","categoryId","class","goods","goodsTypeCheckIndex","goodsTypeChildCheckIndex","on","$event","goodsTypeClick","_v","_s","categoryName","children","cItem","cIndex","category2Id","goodsTypeChildClick","category2Name","_e","staticRenderFns","name","props","type","default","data","methods","typeClick","parentIndex","childIndex","mounted","component","_t","bindSearchGoods","require","bindLookGoods","goodsType","GetChoiceType","ref","goodsList","noMoreData","onLoadMore","index","skuCategoryEncode","baseUrl","imageUrl","slot","spuName","items","childItem","skuId","libraryState","skuName","bindClickGoods","components","goodsItem","computed","groupId","childId","start","limit","getGoodsType","productCategory","then","catch","getGoodsData","productLibraryList","nmd","libraryEdit"],"sourceRoot":""}