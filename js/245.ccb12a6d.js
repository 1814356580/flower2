"use strict";(self["webpackChunkflower_shop"]=self["webpackChunkflower_shop"]||[]).push([[245],{1590:function(t,i,e){e.d(i,{Z:function(){return c}});var s=function(){var t=this,i=t._self._c;return i("div",[t._t("topSlot"),i("div",[i("div",{staticClass:"goods-item-main"},[i("div",{staticClass:"goods-item-img"},[t._t("imgSlot")],2),i("div",{staticClass:"goods-item-content"},[i("div",{staticClass:"goods-item-title"},[t._t("nameSlot")],2),i("div",{staticClass:"goods-item-attribute"},[t._t("attributeSlot")],2)])])]),t._t("menuSlot")],2)},a=[],o={name:"goodsItem",data(){return{}},methods:{},mounted(){}},n=o,r=e(1001),l=(0,r.Z)(n,s,a,!1,null,"1f769a80",null),c=l.exports},6654:function(t,i,e){e.r(i),e.d(i,{default:function(){return p}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"root"},[i("action-bar",{attrs:{title:"创建预售活动"}}),i("div",{staticClass:"container"},[i("scroll-view",{staticClass:"content",attrs:{data:t.goodsList}},[i("div",{staticClass:"cc"},[i("div",{staticClass:"content-box"},[i("div",{staticClass:"flex-center margin-bottom"},[i("span",[t._v("标题：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title",attrs:{type:"text",maxlength:"10",placeholder:"请输入活动标题10个字以内"},domProps:{value:t.title},on:{input:function(i){i.target.composing||(t.title=i.target.value)}}})]),i("div",{staticClass:"flex-center margin-bottom"},[i("span",[t._v("类型：")]),i("van-radio-group",{attrs:{"checked-color":"#42D18A"},model:{value:t.radio,callback:function(i){t.radio=i},expression:"radio"}},[i("van-radio",{attrs:{name:"固定模式"}},[t._v("固定模式")])],1)],1),i("div",{staticClass:"margin-bottom"},[i("div",{staticClass:"margin-bottom"},[t._v("活动时间：")]),i("div",{staticClass:"flex-center"},[i("div",{staticClass:"date",on:{click:t.bindStartSales}},[i("input",{staticClass:"input-date",attrs:{type:"text",disabled:"",placeholder:"开始时间"},domProps:{value:t.startSalesTime}})]),i("span",{staticClass:"to"},[t._v("至")]),i("div",{staticClass:"date",on:{click:t.bindEndSales}},[i("input",{staticClass:"input-date",attrs:{type:"text",disabled:"",placeholder:"结束时间"},domProps:{value:t.endSalesTime}})])])]),i("div",{staticClass:"margin-bottom"},[i("div",{staticClass:"margin-bottom"},[t._v("预计送达时间段：")]),i("div",{staticClass:"flex-center"},[i("div",{staticClass:"date",on:{click:t.bindSdStart}},[i("input",{staticClass:"input-date",attrs:{type:"text",disabled:"",placeholder:"开始时间"},domProps:{value:t.startDeliveryDate}})]),i("span",{staticClass:"to"},[t._v("至")]),i("div",{staticClass:"date",on:{click:t.bindSdEnd}},[i("input",{staticClass:"input-date",attrs:{type:"text",disabled:"",placeholder:"结束时间"},domProps:{value:t.endDeliveryDate}})])])])]),i("div",{staticClass:"content-box"},[i("div",{staticClass:"flex-center goods-add margin-bottom"},[i("div",{staticClass:"goods-title"},[t._v("添加商品")]),i("div",{staticClass:"goods-quantity"},[t._v("共"+t._s(t.goodsList.length)+"件")])]),i("div",{staticClass:"add-goods-box"},[i("div",{staticClass:"no-font-size",on:{click:t.bindAddGoods}},[i("img",{staticClass:"add-goods-img",attrs:{src:e(2416)}})]),i("div",{staticClass:"hor-goods-box"},[i("div",{staticClass:"hor-scroll"},t._l(t.goodsList,(function(e){return i("van-image",{key:e.id,staticClass:"hor-goods-img",attrs:{src:t.baseUrl+e.c}})})),1)])])]),t._l(t.goodsList,(function(s,a){return i("goods-item",{key:s.id,staticClass:"content-box"},[i("van-image",{staticClass:"goods-img",attrs:{slot:"imgSlot",radius:".25rem",src:t.baseUrl+s.imageUrl},slot:"imgSlot"}),i("div",{attrs:{slot:"nameSlot"},slot:"nameSlot"},[i("img",{staticClass:"delete-img",attrs:{src:e(5927)},on:{click:function(i){return t.bindDeleteGoods(a)}}}),i("div",[t._v(t._s(s.productName))])]),i("div",{attrs:{slot:"attributeSlot"},slot:"attributeSlot"},[i("div",{staticClass:"attribute"},[i("div",{staticClass:"attribute-content"},[t._v("分类："+t._s(s.categoryName))]),i("div",{staticClass:"attribute-content"},[t._v("颜色："+t._s(s.color))])]),i("div",{staticClass:"attribute"},[i("div",{staticClass:"attribute-content"},[t._v("等级："+t._s(s.level))]),i("div",{staticClass:"attribute-content"},[t._v("规格："+t._s(s.unit))])])]),i("div",{staticClass:"goods-bottom",attrs:{slot:"menuSlot"},slot:"menuSlot"},[i("div",{staticClass:"price-stock"},[i("span",[t._v("价格(元)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:s.priceStay,expression:"item.priceStay"}],staticClass:"input-bg",attrs:{maxlength:"10",type:"digit",placeholder:"0.00元"},domProps:{value:s.priceStay},on:{input:function(i){i.target.composing||t.$set(s,"priceStay",i.target.value)}}})]),i("div",{staticClass:"price-stock"},[i("span",[t._v("库存(扎)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:s.stockStay,expression:"item.stockStay"}],staticClass:"input-bg",attrs:{type:"number",maxlength:"10",placeholder:"0扎"},domProps:{value:s.stockStay},on:{input:function(i){i.target.composing||t.$set(s,"stockStay",i.target.value)}}})])])],1)}))],2)])],1),i("div",{staticClass:"bottom"},[i("div",{staticClass:"agree"},[i("van-checkbox",{staticClass:"ck",attrs:{"icon-size":"16px","checked-color":"#42D18A"},model:{value:t.isPrivacy,callback:function(i){t.isPrivacy=i},expression:"isPrivacy"}}),i("div",[t._v("查看并同意"),i("a",{staticClass:"privacy",attrs:{href:t.baseUrl+"/static/notice/reserve_shop.html",target:"_blank"}},[t._v("《预售协议》")])])],1),i("div",{class:["release",t.isPrivacy?"release-true":"release-false"],on:{click:t.bindSubmit}},[t._v("发布")])]),i("date-picker-popup",{ref:"hdks",on:{confirm:t.hdks}}),i("date-picker-popup",{ref:"hdjs",on:{confirm:t.hdjs}}),i("date-picker-popup",{ref:"sdks",on:{confirm:t.sdks}}),i("date-picker-popup",{ref:"sdjs",on:{confirm:t.sdjs}})],1)},a=[],o=(e(7396),e(8253)),n=(e(1e3),e(6338)),r=(e(323),e(1698)),l=(e(7658),e(7698)),c=e(1590),d=e(5928),h={name:"addReserveShop",components:{DatePickerPopup:l.Z,[r.Z.name]:r.Z,[n.Z.name]:n.Z,[o.Z.name]:o.Z,goodsItem:c.Z},computed:{baseUrl(){return this.$store.state.baseUrl}},data(){return{radio:"固定模式",isMode:!0,isPrivacy:!1,title:"",goodsList:[],priceModel:"固定模式",startTimeLimit:"",startSalesTime:"",endSalesTime:"",startDeliveryDate:"",endDeliveryDate:"",startDeliveryTimeLimit:""}},methods:{bindSubmit(){if(!this.isPrivacy)return void this.$toast("请阅读并同意预售协议");const t=this.title;if(!t)return void this.$toast("请输入活动标题");const i=this.startSalesTime;if(!i)return void this.$toast("请选择活动开始时间");const e=this.endSalesTime;if(!e)return void this.$toast("请选择活动结束时间");const s=this.startDeliveryDate;if(!s)return void this.$toast("请选择起送开始时间");const a=this.endDeliveryDate;if(!a)return void this.$toast("请选择起送结束时间");const o=this.goodsList;if(0===o.length)return void this.$toast("请添加预售商品");const n=[];for(const c of o){if(!c.priceStay)return void this.$toast("<"+c.productName+">价格未填写");if(!c.stockStay)return void this.$toast("<"+c.productName+">库存未填写");n.push({price:c.priceStay,inventory:c.stockStay,productId:c.productId})}const r={title:t,priceModel:this.priceModel,startSalesTime:i,endSalesTime:e,startDeliveryDate:s,endDeliveryDate:a,items:n},l={data:JSON.stringify(r)};(0,d.gy)(l).then((t=>{this.$router.back(),this.$router.push("/reserveShopList"),this.$toast.success("创建成功")})).catch((t=>{this.$toast(t.msg)}))},bindDeleteGoods(t){const i=this.goodsList;t<i.length&&(i.splice(t,1),this.goodsList=i)},bindEndSales(){this.startSalesTime?this.$refs.hdjs.showPopup():this.$toast("请选择活动开始时间")},bindStartSales(){this.$refs.hdks.showPopup()},bindSdStart(){this.startSalesTime?this.endSalesTime?this.$refs.sdks.showPopup():this.$toast("请选择活动结束时间"):this.$toast("请选择活动开始时间")},bindSdEnd(){this.startDeliveryDate?this.$refs.sdjs.showPopup():this.$toast("请选择送达开始时间")},hdks(t){this.startSalesTime=t},hdjs(t){this.endSalesTime=t},sdks(t){this.startDeliveryDate=t},sdjs(t){this.endDeliveryDate=t},bindAddGoods(){this.$router.push("/spotGoodsList")}},mounted(){},beforeRouteEnter(t,i,e){e();const s=i.params.list;s&&e((t=>{t.goodsList=s}))}},u=h,v=e(1001),m=(0,v.Z)(u,s,a,!1,null,"339c2954",null),p=m.exports},1698:function(t,i,e){e(7658);var s=e(855),a=e(5423),o=(0,s.d)("checkbox"),n=o[0],r=o[1];i["Z"]=n({mixins:[(0,a.p)({bem:r,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var i=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){i.checked=t}))},setParentValue:function(t){var i=this.parent,e=i.value.slice();if(t){if(i.max&&e.length>=i.max)return;-1===e.indexOf(this.name)&&(e.push(this.name),i.$emit("input",e))}else{var s=e.indexOf(this.name);-1!==s&&(e.splice(s,1),i.$emit("input",e))}}}})},323:function(t,i,e){e(1958),e(3332),e(6742)},5423:function(t,i,e){e.d(i,{p:function(){return r}});e(541),e(7658);var s=e(9858),a=e(5065),o=e(9435),n=e(408),r=function(t){var i=t.parent,e=t.bem,r=t.role;return{mixins:[(0,o.j)(i),a.f],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===r&&!this.checked?-1:0}},methods:{onClick:function(t){var i=this,e=t.target,s=this.$refs.icon,a=s===e||(null==s?void 0:s.contains(e));this.isDisabled||!a&&this.labelDisabled?this.$emit("click",t):(this.toggle(),setTimeout((function(){i.$emit("click",t)})))},genIcon:function(){var t=this.$createElement,i=this.checked,a=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:e("icon",[this.shape,{disabled:this.isDisabled,checked:i}]),style:{fontSize:(0,n.N)(a)}},[this.slots("icon",{checked:i})||t(s.Z,{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,i=this.slots();if(i)return t("span",{class:e("label",[this.labelPosition,{disabled:this.isDisabled}])},[i])}},render:function(){var t=arguments[0],i=[this.genIcon()];return"left"===this.labelPosition?i.unshift(this.genLabel()):i.push(this.genLabel()),t("div",{attrs:{role:r,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:e([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[i])}}}},5065:function(t,i,e){e.d(i,{f:function(){return s}});var s={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},6338:function(t,i,e){var s=e(855),a=e(5065),o=e(9435),n=(0,s.d)("radio-group"),r=n[0],l=n[1];i["Z"]=r({mixins:[(0,o.G)("vanRadio"),a.f],props:{value:null,disabled:Boolean,direction:String,checkedColor:String,iconSize:[Number,String]},watch:{value:function(t){this.$emit("change",t)}},render:function(){var t=arguments[0];return t("div",{class:l([this.direction]),attrs:{role:"radiogroup"}},[this.slots()])}})},1e3:function(t,i,e){e(1958)},8253:function(t,i,e){var s=e(855),a=e(5423),o=(0,s.d)("radio"),n=o[0],r=o[1];i["Z"]=n({mixins:[(0,a.p)({bem:r,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}})},7396:function(t,i,e){e(1958),e(3332),e(6742)},2416:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEUAAACJkKCIj6GIj5+QO2niAAAAA3RSTlMA40mAJZ3FAAAAMUlEQVQoz2OgK+BMQOKwX0Di8H8YpJz5/8HgG5hTD+H8RecglA0SV+PlsF9AjRJ6AgC/3Thz3cPtVwAAAABJRU5ErkJggg=="},5927:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjhFQUU2MkJFNkJDMTFFNjk5MzJERDcyQUZFMEY4QzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjhFQUU2MkNFNkJDMTFFNjk5MzJERDcyQUZFMEY4QzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MDYwNDg5MEU2OTkxMUU2OTkzMkRENzJBRkUwRjhDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyOEVBRTYyQUU2QkMxMUU2OTkzMkRENzJBRkUwRjhDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtZOx3kAAAQmSURBVHja3JpNSFRRFMfvmBWZtsgKyo+ohdrXKiUsC5wSCfpYBJUfLfpU0wpaRVRqto2gNMmklaa2EWpRhiiUFabVpvJjkVRakLnJkjBq+l/8P3i85r15786b0enAjzsz+u49/zfHc889T4/P5xORbFEiwi1a/6ajoyNiHPd6vf/hNxBkKGaAbJAOUkACmM+f/wAjYBD0gk7QA/5Mt4BEUAoKQJLF780FC8E6sIeffQSNoAYMh1tAPLgIjoA5/GwItIEu0Afeg3H+LA4sB6tAFsgFK8AZcBrUgwtgLBwC9vKuLQK/QROoBs+AWU4eIy951z0gE5RxvuMc5fuWUKVRKbaWC0jn28FakA+eWjjvz3y8Jp9ztHPOZq4R7baAGNAKisFPUARyQL8LCaCfcxVx7mKuFeOWgGiGyQ4wCraAuhBkxDrOPcq1mux8E3YEyPjexYk3M/2Fynq4xijXrA5WwD5+tRNgJxgIw940wLUmuHaeqoB43R04BbrDuMF2c00tAharCLikyzb101Al1HNtuQFWORWQDA5zqz9psUgBS4RyBQflNV+YSs3sBPeaQ/TJtoASMJs5v89igStgGahwKKKc18jQuBwgxd6hLyV2BcjPCvm6JoAj13Wv7YrQnNfsho0sKOhTlB0BGSzShrhbWpl0pNKBCKPzlYb3/kyWKO/oU4YdAV6OD2yWB3ZFqDivlR1tfJ1tR8B6jk8cxHQgEarOC4Mv6Xaq0VSObxxmlQqds8LgYDDOS3tr8M1SwFLdgUO4KELVecGzhd43yxCK4ziuuAEZwylY56V9N/gW8raKz0XnHRdz42ZqHW5SbjofaxYV/gR85pjksvPyMP9BsexINvhmKUArmVe7fOdreVMqFESsMfhmKeAFxyyXw0al7NBsE8deOwI6Oeaye+BWzDstOzTz0Be9b5YCnrPRtBJsdPkPVkVEJn0Z9nec9SdAngEa+Lo0wOTHFLKNUUSgNco4Ngg/rUizfUCW0ZNsNqVZTC67al8VUqUm4hMPLWaWRh8mzUp7MwHDPNLNAtcsFmjhoUQlz8trEgJ04q7Sh1vCpH9qtRNrvcpt4OA0nIkPsOElfTincqgf08WfPBVtCLOAV+AeOCosmr6BaqFmHvliOFlqGAW8ZnOrNZjGlmBX4i5j/ZHuwDMjzI6ASXbH7oMl4LEhfc54AdJkm283w2kex4cuhZScQzZyt4ZSgLRfYqr1ncfcn8Nj523ulh6Ha8trGjnHfmGjkevPVJ7QyD9s2fKrYscsjwwxzLrYkJKl8zdes4AlcRqLxO1i6hGTFqI3wXkVAR79k3qF58SJTLWF3JSc2AjLg2qh8JBPe04c7FNKubB8UHeWTScvs1QKxcXqzrTydwdZrneIGfKYVV8AdovwtuD/DaFItIj/V4OIF/BXgAEAAy4Dnp5Y+vgAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=245.ccb12a6d.js.map