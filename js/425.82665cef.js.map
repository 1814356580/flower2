{"version":3,"file":"js/425.82665cef.js","mappings":"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","sources":["webpack://flower_shop/./src/components/util/PickerPopup.vue","webpack://flower_shop/src/components/util/PickerPopup.vue","webpack://flower_shop/./src/components/util/PickerPopup.vue?eafd","webpack://flower_shop/./src/components/util/PickerPopup.vue?39df","webpack://flower_shop/./src/views/indexTab/businessAnalysis/businessAnalysis.vue","webpack://flower_shop/./src/components/index/AnalysisCard.vue","webpack://flower_shop/src/components/index/AnalysisCard.vue","webpack://flower_shop/./src/components/index/AnalysisCard.vue?8242","webpack://flower_shop/./src/components/index/AnalysisCard.vue?8e5a","webpack://flower_shop/src/views/indexTab/businessAnalysis/businessAnalysis.vue","webpack://flower_shop/./src/views/indexTab/businessAnalysis/businessAnalysis.vue?e7f4","webpack://flower_shop/./src/views/indexTab/businessAnalysis/businessAnalysis.vue?54c3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-picker',{ref:\"picker\",attrs:{\"title\":\"标题\",\"show-toolbar\":\"\",\"columns\":_vm.columns,\"value-key\":_vm.valueKey},on:{\"confirm\":_vm.onConfirm,\"cancel\":_vm.onCancel}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-popup v-model=\"show\" position=\"bottom\">\r\n    <van-picker ref=\"picker\" title=\"标题\" show-toolbar :columns=\"columns\" @confirm=\"onConfirm\" @cancel=\"onCancel\" :value-key=\"valueKey\" />\r\n  </van-popup>\r\n</template>\r\n<script>\r\n\r\nimport { Popup, Picker } from 'vant'\r\n\r\nexport default {\r\n  name: 'pickerPopup',\r\n  components: {\r\n    [Popup.name]: Popup,\r\n    [Picker.name]: Picker\r\n  },\r\n  data () {\r\n    return {\r\n      show: false,\r\n      columns: []\r\n    }\r\n  },\r\n  props: {\r\n    datas: {\r\n      type: Array,\r\n      default: () => {\r\n        return []\r\n      }\r\n    },\r\n    valueKey: {\r\n      type: String,\r\n      default: 'text'\r\n    }\r\n  },\r\n  methods: {\r\n    setList (list) {\r\n      this.columns = list\r\n    },\r\n    showPopup (index) {\r\n      this.show = !this.show\r\n      if (index) {\r\n        this.$nextTick(res => {\r\n          this.$refs.picker.setIndexes(index)\r\n        })\r\n      }\r\n    },\r\n    onConfirm (item, index) {\r\n      this.show = false\r\n      this.$emit('confirm', item, index)\r\n    },\r\n    onCancel () {\r\n      this.show = false\r\n    }\r\n  },\r\n  mounted () {\r\n\r\n  },\r\n  watch: {\r\n    datas () {\r\n      if (this.datas.length > 0) {\r\n        this.columns = this.datas\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PickerPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PickerPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PickerPopup.vue?vue&type=template&id=7de9f24c&scoped=true&\"\nimport script from \"./PickerPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./PickerPopup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7de9f24c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"as-box\"},[_c('action-bar',{attrs:{\"title\":\"经营分析\"}}),_c('van-tabs',{staticClass:\"tabs\",attrs:{\"animated\":\"\",\"swipeable\":\"\",\"color\":\"#42D18A\"},on:{\"click\":_vm.clickTabsItem},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabData),function(pageItem){return _c('van-tab',{key:pageItem.title,attrs:{\"title\":pageItem.title}},[(pageItem.data)?[_c('div',{staticClass:\"analysis-box\"},[_c('div',{staticClass:\"date-box\",on:{\"click\":_vm.choiceDate}},[_vm._v(\" \"+_vm._s(pageItem.date)+\" \"),_c('img',{staticClass:\"img-right\",attrs:{\"src\":require(\"@/assets/arrow_right_icon.png\")}})]),_c('div',{staticClass:\"analysis-item\"},[_c('analysis-card',{attrs:{\"title\":\"成交额\",\"value\":pageItem.data.tradeAmount,\"beforeValue\":pageItem.data.beforeTradeAmount,\"beforeTip\":pageItem.beforeTip}})],1),_c('div',{staticClass:\"analysis-item no-left\"},[_c('analysis-card',{attrs:{\"title\":\"成交单数\",\"value\":pageItem.data.tradeCount,\"beforeValue\":pageItem.data.beforeTradeCount,\"beforeTip\":pageItem.beforeTip,\"unit\":\"单\"}})],1),_c('div',{staticClass:\"analysis-item\"},[_c('analysis-card',{attrs:{\"title\":\"成交商品数\",\"value\":pageItem.data.tradeProductCount,\"beforeValue\":pageItem.data.beforeTradeProductCount,\"beforeTip\":pageItem.beforeTip,\"unit\":\"个\"}})],1),_c('div',{staticClass:\"analysis-item no-left\"},[_c('analysis-card',{attrs:{\"title\":\"客单价\",\"value\":pageItem.data.customerUnitPrice,\"beforeValue\":pageItem.data.beforeCustomerUnitPrice,\"beforeTip\":pageItem.beforeTip}})],1),_c('div',{staticClass:\"analysis-item\"},[_c('analysis-card',{attrs:{\"title\":\"售后金额\",\"value\":pageItem.data.afterSalesPrice,\"beforeValue\":pageItem.data.beforeAfterSalesPrice,\"beforeTip\":pageItem.beforeTip}})],1),_c('div',{staticClass:\"analysis-item no-left\"},[_c('analysis-card',{attrs:{\"title\":\"售后单数\",\"value\":pageItem.data.afterSalesCount,\"beforeValue\":pageItem.data.beforeAfterSalesCount,\"beforeTip\":pageItem.beforeTip,\"unit\":\"单\"}})],1)])]:_vm._e()],2)}),1),_c('date-picker-popup',{ref:\"dayPopup\",attrs:{\"type\":\"date\"},on:{\"confirm\":_vm.sureDate}}),_c('picker-popup',{ref:\"weekPopup\",on:{\"confirm\":_vm.sureDate}}),_c('date-picker-popup',{ref:\"monthPopup\",attrs:{\"type\":\"year-month\"},on:{\"confirm\":_vm.sureDate}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),(_vm.unit === '')?[_c('div',{staticClass:\"sign\"},[_vm._v(\"¥\"),_c('span',{staticClass:\"trade\"},[_vm._v(_vm._s(_vm.value))])])]:[_c('div',{staticClass:\"sign\"},[_c('span',{staticClass:\"trade\"},[_vm._v(_vm._s(_vm.value))]),_vm._v(_vm._s(_vm.unit))])],_c('div',{staticClass:\"desc\"},[_vm._v(\" \"+_vm._s(_vm.beforeTip)+_vm._s(_vm.beforeValue)+\" \"),(_vm.value > _vm.beforeValue)?_c('img',{staticClass:\"img-situation\",attrs:{\"src\":require(\"@/assets/analysis_up.png\")}}):(_vm.value === _vm.beforeValue)?_c('img',{staticClass:\"img-situation\",attrs:{\"src\":require(\"@/assets/analysis_equal.png\")}}):_c('img',{staticClass:\"img-situation\",attrs:{\"src\":require(\"@/assets/analysis_down.png\")}})])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n  <div class=\"title\">{{title}}</div>\r\n  <template v-if=\"unit === ''\">\r\n    <div class=\"sign\">¥<span class=\"trade\">{{value}}</span></div>\r\n  </template>\r\n  <template v-else>\r\n    <div class=\"sign\"><span class=\"trade\">{{value}}</span>{{unit}}</div>\r\n  </template>\r\n  <div class=\"desc\">\r\n    {{beforeTip}}{{beforeValue}}\r\n    <img  class=\"img-situation\" v-if=\"value > beforeValue\" src=\"@/assets/analysis_up.png\" />\r\n    <img  class=\"img-situation\" v-else-if=\"value === beforeValue\" src=\"@/assets/analysis_equal.png\" />\r\n    <img  class=\"img-situation\" v-else src=\"@/assets/analysis_down.png\" />\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'AnalysisCard',\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    value: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    beforeValue: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    unit: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    beforeTip: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  methods: {\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.title {\r\n  font-size: 1.125rem;\r\n  margin-bottom: 1.25rem;\r\n}\r\n\r\n.sign {\r\n  font-size: 1rem;\r\n}\r\n\r\n.trade{\r\n  font-size: 1.375rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.desc{\r\n  font-size: .875rem;\r\n  margin-top: 1.25rem;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.img-situation{\r\n  width: 1.125rem;\r\n  height: auto;\r\n  margin-left: .5rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AnalysisCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AnalysisCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnalysisCard.vue?vue&type=template&id=21d065e4&scoped=true&\"\nimport script from \"./AnalysisCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnalysisCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnalysisCard.vue?vue&type=style&index=0&id=21d065e4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21d065e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"as-box\">\r\n    <action-bar title=\"经营分析\"></action-bar>\r\n    <van-tabs animated swipeable v-model=\"active\" color=\"#42D18A\" class=\"tabs\" @click=\"clickTabsItem\">\r\n      <van-tab v-for=\"pageItem in tabData\" :key=\"pageItem.title\" :title=\"pageItem.title\">\r\n        <template v-if=\"pageItem.data\">\r\n          <div class=\"analysis-box\">\r\n            <div class=\"date-box\" @click=\"choiceDate\">\r\n              {{ pageItem.date }}\r\n              <img class=\"img-right\" src=\"@/assets/arrow_right_icon.png\" />\r\n            </div>\r\n            <!-- 成交额 -->\r\n            <div class=\"analysis-item\">\r\n              <analysis-card title=\"成交额\" :value=\"pageItem.data.tradeAmount\"\r\n                :beforeValue=\"pageItem.data.beforeTradeAmount\" :beforeTip=\"pageItem.beforeTip\"></analysis-card>\r\n            </div>\r\n            <!-- 成交单数 -->\r\n            <div class=\"analysis-item no-left\">\r\n              <analysis-card title=\"成交单数\" :value=\"pageItem.data.tradeCount\"\r\n                :beforeValue=\"pageItem.data.beforeTradeCount\" :beforeTip=\"pageItem.beforeTip\" unit=\"单\"></analysis-card>\r\n            </div>\r\n            <!-- 成交商品数 -->\r\n            <div class=\"analysis-item\">\r\n              <analysis-card title=\"成交商品数\" :value=\"pageItem.data.tradeProductCount\"\r\n                :beforeValue=\"pageItem.data.beforeTradeProductCount\" :beforeTip=\"pageItem.beforeTip\" unit=\"个\">\r\n              </analysis-card>\r\n            </div>\r\n            <!-- 客单价 -->\r\n            <div class=\"analysis-item no-left\">\r\n              <analysis-card title=\"客单价\" :value=\"pageItem.data.customerUnitPrice\"\r\n                :beforeValue=\"pageItem.data.beforeCustomerUnitPrice\" :beforeTip=\"pageItem.beforeTip\"></analysis-card>\r\n            </div>\r\n            <!-- 售后金额 -->\r\n            <div class=\"analysis-item\">\r\n              <analysis-card title=\"售后金额\" :value=\"pageItem.data.afterSalesPrice\"\r\n                :beforeValue=\"pageItem.data.beforeAfterSalesPrice\" :beforeTip=\"pageItem.beforeTip\"></analysis-card>\r\n            </div>\r\n            <!-- 售后单数 -->\r\n            <div class=\"analysis-item no-left\">\r\n              <analysis-card title=\"售后单数\" :value=\"pageItem.data.afterSalesCount\"\r\n                :beforeValue=\"pageItem.data.beforeAfterSalesCount\" :beforeTip=\"pageItem.beforeTip\" unit=\"单\">\r\n              </analysis-card>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </van-tab>\r\n    </van-tabs>\r\n    <date-picker-popup type=\"date\" ref=\"dayPopup\" @confirm=\"sureDate\"></date-picker-popup>\r\n    <picker-popup ref=\"weekPopup\" @confirm=\"sureDate\"></picker-popup>\r\n    <date-picker-popup type=\"year-month\" ref=\"monthPopup\" @confirm=\"sureDate\"></date-picker-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Tab, Tabs } from 'vant'\r\nimport AnalysisCard from '@/components/index/AnalysisCard.vue'\r\nimport { analysis } from '@/http/api'\r\nimport DatePickerPopup from '@/components/util/DatePickerPopup.vue'\r\nimport PickerPopup from '@/components/util/PickerPopup.vue'\r\n\r\nexport default {\r\n  name: 'businessAnalysis',\r\n  components: {\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    analysisCard: AnalysisCard,\r\n    [DatePickerPopup.name]: DatePickerPopup,\r\n    [PickerPopup.name]: PickerPopup\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      active: 0,\r\n      tabData: [\r\n        {\r\n          date: '',\r\n          title: '日报',\r\n          beforeTip: '较前一天',\r\n          data: null\r\n\r\n        },\r\n        {\r\n          date: '',\r\n          title: '周报',\r\n          beforeTip: '较前一周',\r\n          data: null,\r\n          dateList: null\r\n        },\r\n        {\r\n          date: '',\r\n          title: '月报',\r\n          beforeTip: '较前一月',\r\n          data: null\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    sureDate (date) {\r\n      const pageItem = this.tabData[this.active]\r\n      pageItem.date = date\r\n      this.getAnalysis()\r\n    },\r\n    choiceDate () {\r\n      const pageItem = this.tabData[this.active]\r\n      if (pageItem.title === '日报') {\r\n        this.$refs.dayPopup.showPopup()\r\n      } else if (pageItem.title === '周报') {\r\n        this.$refs.weekPopup.setList(pageItem.dateList)\r\n        this.$refs.weekPopup.showPopup()\r\n      } else {\r\n        this.$refs.monthPopup.showPopup()\r\n      }\r\n    },\r\n    clickTabsItem (name, title) {\r\n      this.getAnalysis()\r\n    },\r\n    getAnalysis () {\r\n      const tabData = this.tabData\r\n      const pageItem = tabData[this.active]\r\n      const data = {\r\n        type: pageItem.title,\r\n        date: pageItem.date\r\n      }\r\n      analysis(data).then(res => {\r\n        pageItem.data = res.data\r\n        // pageItem.data.beforeCustomerUnitPrice = parseFloat(pageItem.data.beforeCustomerUnitPrice).toFixed(2)\r\n        // pageItem.data.customerUnitPrice = parseFloat(pageItem.data.customerUnitPrice).toFixed(2)\r\n      }).catch(rej => {\r\n        this.$toast(rej.msg)\r\n      })\r\n    },\r\n    initDate () {\r\n      // 初始化默认时间\r\n      const tabData = this.tabData\r\n      const dt = new Date()\r\n      tabData.forEach(elt => {\r\n        if (elt.title === '日报') {\r\n          const month = dt.getMonth() + 1\r\n          elt.date = dt.getFullYear() + '-' + ((month < 10) ? '0' + month : month) + '-' + dt.getDate()\r\n        } else if (elt.title === '周报') {\r\n          const list = this.getTimer()\r\n          elt.dateList = list\r\n          elt.date = list[0]\r\n        } else if (elt.title === '月报') {\r\n          elt.date = dt.getFullYear() + '-' + (dt.getMonth() + 1)\r\n        }\r\n      })\r\n    },\r\n    getTimer () {\r\n      let time = new Date() // 获取当前时间\r\n      let nowTime = time.getTime()\r\n      let day = time.getDay()\r\n      const oneDayTime = 24 * 60 * 60 * 1000 // 一周的时间\r\n      let MondayTime = nowTime - (day - 1) * oneDayTime // 显示当前周一\r\n      let SundayTime = nowTime + (7 - day) * oneDayTime // 显示当前周日\r\n      const setlist = []\r\n      for (let i = 0; i < 90; i++) {\r\n        setlist.push(this.setTime(MondayTime) + ',' + this.setTime(SundayTime))\r\n        time = new Date(time - oneDayTime)\r\n        nowTime = time.getTime()\r\n        day = time.getDay()\r\n        MondayTime = nowTime - (day - 1) * oneDayTime // 显示当前周一\r\n        SundayTime = nowTime + (7 - day) * oneDayTime // 显示当前周日\r\n      }\r\n      const list = [...new Set(setlist)] // 简单去重一下\r\n      return list\r\n    },\r\n    setTime (time) {\r\n      // 将time时间戳 先格式化一下\r\n      const date = new Date(time)\r\n      const yy = date.getFullYear()\r\n      const m = date.getMonth() + 1\r\n      const day = date.getDate()\r\n      const str = yy + '-' + (m < 10 ? '0' + m : m) + '-' + (day < 10 ? '0' + day : day)\r\n      return str\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initDate()\r\n    this.getAnalysis()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.img-right {\r\n  width: .4375rem;\r\n  height: auto;\r\n  margin-left: .5rem;\r\n}\r\n\r\n.date-box {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: .75rem 0;\r\n  justify-content: center;\r\n}\r\n\r\n.as-box {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.tabs {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f5f7f9;\r\n}\r\n\r\n.analysis-box {\r\n  overflow: auto;\r\n}\r\n\r\n.analysis-item {\r\n  background-color: white;\r\n  width: 44%;\r\n  float: left;\r\n  padding: .75rem;\r\n  box-sizing: border-box;\r\n  margin-left: 4%;\r\n  margin-right: 4%;\r\n  margin-bottom: 4%;\r\n}\r\n\r\n.no-left {\r\n  margin-left: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./businessAnalysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./businessAnalysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./businessAnalysis.vue?vue&type=template&id=6169a62b&scoped=true&\"\nimport script from \"./businessAnalysis.vue?vue&type=script&lang=js&\"\nexport * from \"./businessAnalysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./businessAnalysis.vue?vue&type=style&index=0&id=6169a62b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6169a62b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","model","value","show","callback","$$v","expression","ref","columns","valueKey","on","onConfirm","onCancel","staticRenderFns","name","components","data","props","datas","type","default","methods","setList","showPopup","mounted","watch","component","staticClass","clickTabsItem","active","_l","tabData","pageItem","key","title","choiceDate","_v","_s","date","require","tradeAmount","beforeTradeAmount","beforeTip","tradeCount","beforeTradeCount","tradeProductCount","beforeTradeProductCount","customerUnitPrice","beforeCustomerUnitPrice","afterSalesPrice","beforeAfterSalesPrice","afterSalesCount","beforeAfterSalesCount","_e","sureDate","unit","beforeValue","analysisCard","dateList","getAnalysis","analysis","initDate","elt","getTimer","setlist","time","nowTime","day","MondayTime","SundayTime","setTime"],"sourceRoot":""}