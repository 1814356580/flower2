"use strict";(self["webpackChunkflower_shop"]=self["webpackChunkflower_shop"]||[]).push([[140],{2340:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"root"},[e("action-bar",{attrs:{title:"预售活动"}}),e("van-tabs",{attrs:{animated:"",swipeable:"",color:"#42D18A"},on:{change:t.changeTabs},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.pageData,(function(i){return e("van-tab",{key:i.title,attrs:{title:i.title}},[e("scroll-view",{attrs:{noMoreData:i.noMoreData,data:i.reserveList}},[e("div",{staticClass:"sc-top"}),t._l(i.reserveList,(function(i){return e("div",{key:i.id,staticClass:"card-box"},[e("div",{staticClass:"item-title"},[e("div",[t._v(t._s(i.title))]),e("div",[t._v(t._s(i.state))])]),e("div",{staticClass:"item-content"},[e("div",{staticClass:"item-content-left"},[t._v("类型")]),e("div",{staticClass:"item-content-right"},[t._v(t._s(i.priceModel))])]),e("div",{staticClass:"item-content"},[e("div",{staticClass:"item-content-left"},[t._v("品类数量")]),e("div",{staticClass:"item-content-right"},[t._v(t._s(i.skuCount))])]),e("div",{staticClass:"item-content"},[e("div",{staticClass:"item-content-left"},[t._v("开始至结束时间")]),e("div",{staticClass:"item-content-right"},[t._v(t._s(i.startSalesTime)+" 至 "+t._s(i.endSalesTime))])]),e("div",{staticClass:"item-content"},[e("div",{staticClass:"item-content-left"},[t._v("商品起送时间段")]),e("div",{staticClass:"item-content-right"},[t._v(t._s(i.startDeliveryDate)+" 至 "+t._s(i.endDeliveryDate))])]),e("div",{staticClass:"item-operate"},[""!=i.editBtn?e("div",{staticClass:"item-edit",on:{click:function(e){return t.bindUpdateDetail(i.id)}}},[t._v(" "+t._s(i.editBtn))]):t._e(),e("div",{staticClass:"item-detail",on:{click:function(e){return t.bindSeeDetail(i.id)}}},[t._v("查看活动")])])])}))],2)],1)})),1)],1)},s=[],a=(i(446),i(7847)),r=(i(5762),i(5094)),c=(i(7658),i(5928)),o={name:"reserveShopList",components:{[r.Z.name]:r.Z,[a.Z.name]:a.Z},data(){return{currentTab:0,pageData:[{title:"即将预售",start:0,limit:10,isScroll:!0,noMoreData:!1,reserveList:[],isReset:!0,triggered:!1},{title:"预售中",start:0,limit:10,isScroll:!0,noMoreData:!1,reserveList:[],isReset:!0,triggered:!1},{title:"已结束预售",start:0,limit:10,isScroll:!0,noMoreData:!1,reserveList:[],isReset:!0,triggered:!1}]}},methods:{bindSeeDetail(t){this.$router.push({name:"reserveDetail",query:{id:t}})},bindRetainage(t){console.log("录入尾款")},bindUpdateDetail(t){this.$router.push({path:"/editReserveShop",query:{id:t}})},changeTabs(){this.pageData[this.currentTab].isReset=!0,this.getList()},getList(){const t=this.pageData,e=t[this.currentTab];e.isReset&&(e.start=0);const i={state:e.title,priceModel:"",start:e.start,limit:e.limit};(0,c.NT)(i).then((i=>{let n=!1;i.data.list.length<10&&(n=!0),e.noMoreData=n,e.isScroll=!0,e.reserveList===[]||!0===e.isReset?e.reserveList=i.data.list:e.reserveList.push(...i.data.list),e.isReset=!1,this.pageData=t})).catch((t=>{this.$toast(t.msg)}))}},mounted(){this.getList()}},l=o,d=i(1001),u=(0,d.Z)(l,n,s,!1,null,"6267998c",null),h=u.exports},9435:function(t,e,i){i.d(e,{j:function(){return a},G:function(){return r}});i(7658);function n(t){var e=[];function i(t){t.forEach((function(t){e.push(t),t.componentInstance&&i(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&i(t.children)}))}return i(t),e}function s(t,e){var i=e.$vnode.componentOptions;if(i&&i.children){var s=n(i.children);t.sort((function(t,e){return s.indexOf(t.$vnode)-s.indexOf(e.$vnode)}))}}function a(t,e){var i,n;void 0===e&&(e={});var a=e.indexKey||"index";return{inject:(i={},i[t]={default:null},i),computed:(n={parent:function(){return this.disableBindRelation?null:this[t]}},n[a]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},n),watch:{disableBindRelation:function(t){t||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);s(t,this.parent),this.parent.children=t}}}}}function r(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}}}]);
//# sourceMappingURL=140.c2a21073.js.map